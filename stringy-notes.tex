\documentclass{report}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amscd}
\usepackage{fullpage}
\usepackage{braket}
\usepackage{dsfont}
\usepackage{slashed}
\usepackage{comment}
\usepackage{verbatim}
\usepackage{mathrsfs}
\usepackage{mathtools}
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
\usepackage[colorlinks=true,urlcolor=blue,bookmarks=true,citecolor=blue]{hyperref}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{axiom}{Axiom}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}{Exercise}[section]

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{note}{Note}

\newcommand{\FR}[2]{\frac{#1}{#2}}
\newcommand{\PFR}[2]{\left(\frac{#1}{#2}\right)}
\newcommand{\SFR}[2]{\sqrt{\frac{#1}{#2}}}

\newcommand{\mc}{\mathcal}
\newcommand{\ms}{\mathscr}
\newcommand{\lam}{\lambda}
\newcommand{\vphi}{\varphi}
\newcommand{\om}{\omega}
\newcommand{\Om}{\Omega}
\newcommand{\gam}{\gamma}
\newcommand{\sg}{\sigma}
\newcommand{\di}{\partial}
\newcommand{\sdi}{\slashed\partial}
\newcommand{\ddi}[2]{\FR{\partial {#1}}{\partial {#2}}}
\newcommand{\hp}{\hat p}
\newcommand{\ha} { a}
\newcommand{\hb} { b}
\newcommand{\hbd} { b^\dagger}
\newcommand{\had}{ a^\dagger}
\newcommand{\iden}{\mathds{1}}
\newcommand{\colr}[1]{ {\color{red} #1 } }
\newcommand{\colb}[1]{ {\color{blue} #1 } }
\newcommand{\colf}[1]{ {\color{Fuchsia} #1 } }
\newcommand{\NO}[1]{\vcentcolon\mathrel{#1}\vcentcolon\,}

\newcommand{\elaborate}{{\color{blue} \textbf{Elaborate.}}}
\newcommand{\CHECK}{{\color{blue} \textbf{CHECK}}}

\newcommand{\bC}{\mathbb{C}}
\newcommand{\bR}{\mathbb{R}}
\newcommand{\bP}{\mathbb{P}}
\newcommand{\bN}{\mathbb{N}}
\newcommand{\bZ}{\mathbb{Z}}
\newcommand{\cA}{\mathcal{A}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cJ}{\mathcal{J}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\fg}{\mathfrak{g}}
\newcommand{\fso}{\mathfrak{so}}
\newcommand{\diff}{\mathrm{diff}}
\newcommand{\Weyl}{\mathrm{Weyl}}
\newcommand{\detFP}{\Delta_{\text{FP}}}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Vol}{Vol}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\re}{Re}
\DeclareMathOperator{\Ad}{Ad}
\DeclareMathOperator{\Sp}{Sp}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\vspan}{span}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Res}{Res}
\newcommand{\eff}{\text{eff}}
\newcommand{\vacuum}{\text{vacuum}}
\newcommand{\pp}{\text{pp}}
\newcommand{\dder}[2]{\frac{d #1}{d #2}}
\newcommand{\pder}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\fder}[2]{\frac{\delta #1}{\delta #2}}
\newcommand{\pdder}[2]{\frac{\partial^2 #1}{\partial #2^2}}
\newcommand{\bz}{\bar{z}}
\newcommand{\bdi}{\bar{\di}}

\begingroup
    \makeatletter
    \@for\theoremstyle:=definition,remark,plain\do{%
        \expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{%
            \addtolength\thm@preskip\parskip
            }%
        }
\endgroup

\edef\restoreparindent{\parindent=\the\parindent\relax}
\usepackage{parskip}
\restoreparindent


\title{String Theory and Supersymmetry\\Winter 2016 Seminar Notes}
\author{Anton Borissov, Henry Liu}
\date{\today}

\begin{document}

\maketitle

\tableofcontents

\chapter{Introduction to Strings}

We asked ``why fields?'' when we started QFT; now we ask, why strings?
Here are some potentially convincing reasons.
\begin{enumerate}
\item If we allow one more degree of freedom than particles, many
  IR/UV divergences disappear; we require less renormalization. If we
  allow more than one degree of freedom, new divergences arise from
  the increased internal degrees of freedom.
\item Every consistent string theory contains a massless spin-$2$
  state, i.e. a graviton, whose interactions at low energies reduce to
  general relativity.
\item The Standard Model, based on QFT, has $25$ adjustable constants.
  String theory has none, and leads to gauge groups big enough to
  include the Standard Model.
\item Consistent string theories force upon us supersymmetry and
  extra dimensions, which have arisen naturally from several different
  attempts to unify the Standard Model.
\end{enumerate}

Regardless of whether they are convincing, we start in this chapter,
as with any other physical model, by writing down an action.
Specifically, we first write the action for a relativistic string by
generalizing that of a relativistic point particle, and then we
quantize the action. As with QFT there are different ways to quantize.
We go through the analogue of canonical quantization in order to
quickly compute the spectrum of a string, and then go through path
integral quantization in preparation for studying string interactions.

As usual, we take $\hbar = c = 1$, and use {\bf Einstein summation
  convention}: repeated indices are implicitly summed over.

\section{Review of Relativity}

We work in $\bR^{D-1,1}$ where $D$ is the {\bf number of dimensions}.
Recall that coordinates are written $x^\mu = (x^0, x^1, \ldots, x^D) =
(ct, x^1, \ldots, x^D)$, and the metric is
\[ -ds^2 \coloneqq \eta_{\mu\nu} dx^\mu dx^\nu, \quad \eta_{\mu\nu} = \diag(-1, 1, 1, \ldots, 1). \]
Note that $\eta^\mu{}_\mu = D$. We use the dot product to stand for
the {\bf Lorentz inner product}, e.g. $-ds^2 = dx \cdot dx$.

\begin{definition}
  Define the {\bf proper time} of a system as the time elapsed
  measured by a clock traveling in the same Lorentz frame as the
  system itself. In such a Lorentz frame, $dx^i = 0$ and $dt$ is the
  proper time elapsed, so $-ds^2 = -dt_p^2$; define
  \[ ds \coloneqq \sqrt{ds^2} = dt_p \qquad \text{whenever } ds^2 > 0, \]
  i.e. for timelike intervals. Hence $ds$ is the {\bf proper time
    interval}. The {\bf relativistic momentum} is $p^\mu \coloneqq
  m(dx^\mu/ds)$. Conveniently,
  \[ p^\mu p_\mu = m^2\dder{x^\mu}{s} \dder{x_\mu}{s} = -m^2 \dder{s^2}{s^2} = -m^2. \]
\end{definition}

\begin{definition}
  A {\bf Lorentz transformation} $\Lambda^\mu{}_\nu$ is an element of
  the Lorentz group, the collection of all linear isometries of
  $\bR^{D-1,1}$. We say $a^\mu$ is a {\bf vector} if under Lorentz
  transformations, it changes as $a'^\mu = \Lambda^\mu{}_\nu a^\nu$. A
  {\bf Poincar\'e transformation} is a Lorentz transformation possibly
  followed by a translation.
\end{definition}

\begin{definition}
  The {\bf world line} of a point particle is the path in spacetime
  $\bR^{D-1,1}$ traced out by the particle as it evolves in time.
\end{definition}

The underlying principle of relativity says that physical laws are
independent of Lorentz frame. In other words, any action we write down
that we want to be compatible with relativity must have external
symmetries: it must be invariant under Lorentz transformations. We
call this {\bf Lorentz invariance}. As long as superscripts and
subscripts match up, we do not have to worry about Lorentz invariance.

The {\bf action} for a free relativistic {\bf point particle} is
obtained by writing down the simplest Lorentz invariant action, and
then making sure dimensions work out. If $\gamma$ is the path taken by
the particle, the action is therefore
\[ S_{\pp}[x] \coloneqq -m\int_\gamma ds = -m\int_\gamma d\tau \, \sqrt{-\eta_{\mu\nu} \dder{x^\mu}{\tau} \dder{x^\nu}{\tau}} = -m\int_\gamma d\tau \, \sqrt{-\dot{x}^\mu \cdot \dot{x}_\mu} \]
where a dot denotes a $\tau$-derivative. Because $ds$ is
coordinate-independent, it does not what how we pick the
parametrization $\tau$. Physicists like to call this {\bf
  reparametrization invariance}. This invariance is very important:
without it, we have actually introduced a completely new parameter
$\tau$, thus increasing the number of degrees of freedom from $D-1$ to
$D$.

\begin{exercise}
  By computing $\delta(ds^2)$ in two different ways, show that
  \[ \delta S_{\pp}[x] = m\int_\gamma \delta(dx^\mu) \frac{dx_\mu}{ds} = \int_\gamma d\tau \left(\dder{}{\tau} \delta x^\mu\right) p_\mu = \delta x^\mu p_\mu\bigg|_{\tau_i}^{\tau_f} - \int d\tau \delta x^\mu \dder{p_\mu}{\tau}. \]
  Argue that the first term vanishes if we specify {\bf initial and
    final conditions}. Hence deduce the equation of motion
  $dp_\mu/d\tau = 0$.
\end{exercise}

The action $S_{\pp}$ seems simple in the $\int_\gamma ds$ form, but is
messy when parametrized. Later when we quantize using path integrals,
$S_{\pp}$ is difficult to work with because of the derivatives under
the square root. There is a different, classically-equivalent action
we can work with. Introduce an additional field
$\gamma_{\tau\tau}(\tau)$ (sometimes called an {\bf einbein} in
general relativity), which we can view as a metric on the world line,
and take the action
\[ S'_{\pp} \coloneqq -\frac{1}{2} \int_\gamma d\tau \sqrt{-\gamma_{\tau\tau}} (\gamma^{\tau\tau} \dot{x}^\mu \dot{x}_\mu + m^2) = -\frac{1}{2} \int_\gamma d\tau \, (\eta^{-1} \dot{x}^\mu \dot{x}_\mu - \eta m^2), \quad \eta \coloneqq \sqrt{-\gamma_{\tau\tau}(\tau)}. \]
It seems like we have arbitrarily added an extra degree of freedom,
but in fact $\gamma$ is completely specified by the equation of
motion. The action $S'_{\pp}$ is much better to work with in a path
integral, because it is {\bf quadratic} in $\dot{x}^\mu$.

\begin{exercise}
  Vary $S'_{\pp}$ with respect to $\gamma_{\tau\tau}$ to get the
  equation of motion $\gamma_{\tau\tau} = \dot{x}^\mu
  \dot{x}_\mu/m^2$. Substitute this expression back into $S'_{\pp}$ to
  obtain $S_{\pp}$, and therefore conclude that the two actions are
  classically equivalent.
\end{exercise}

\section{Nambu--Goto and Polyakov Actions}

We graduate to {\bf one-dimensional strings}; in this section we write
down an action for them. There are two kinds of strings: those with
two distinct endpoints, called {\bf open strings}, and those which are
loops, called {\bf closed strings}. Because closed strings are just
open strings with the extra constraint that the two endpoints match,
we focus on open strings.

The action for the relativistic point particle is proportional to the
proper time elapsed on the particle's world line. But the proper time,
when multiplied by $c$, can be viewed as the ``proper length'' of the
world line. The natural generalization, then, is to consider the
surface in space-time traced out by the string as it evolves in time,
called the {\bf world sheet} $M$, and to define an action proportional
to the ``proper area'' of the world sheet. The world sheet $M$ is a
two-dimensional surface, and therefore requires charts modeled on
$\bR^2$.

\begin{definition}
  The {\bf coordinates} we use on $\bR^2$, the parameter space, are
  denoted $(\sigma^0, \sigma^1)$, and so the {\bf world sheet} $M$ is
  locally a surface given by functions denoted $X^\mu(\sigma)$
  (capitalized to disambiguate from the coordinates $x^\mu$), called
  {\bf string coordinates}. The lowercase Latin characters $a, b,
  \ldots$ are used to denote {\bf indices} that run over values $0,1$.
  Two notes:
  \begin{enumerate}
  \item The choice of parametrization $(\sigma^0, \sigma^1)$ is,
    again, up to us, but usually we take the coordinate $\sigma^0$ to
    be the proper time, and $\sigma^1$ the position along the string.
  \item For our purposes, $M = X^\mu$, i.e. the single chart $X^\mu$
    describes the entire world sheet for the region of spacetime we
    care about.
  \end{enumerate}
\end{definition}

\begin{exercise}
  Show that the metric $\eta_{\mu\nu}$ on spacetime $\bR^{D-1,1}$
  induces a metric $g$ on the world sheet via pullback along the
  inclusion $\iota\colon M \to \bR^{D-1,1}$. Compute $g$ and the area
  element:
  \[ g_{ab} = \di_a X^\mu \di_b X_\mu, \quad dA =  d^2\sigma \, \sqrt{-\det g}. \]
\end{exercise}

A relativistic particle has a parameter we call mass. It turns out
mass is not the appropriate physical interpretation of the
corresponding parameter for strings. Instead, we interpret it as a
{\bf tension}, and denote it $T_0$. Old people write $T_0 = 1/2\pi
\alpha'$ and call $\alpha'$ the {\bf universal Regge slope}; we choose
not to.

\begin{definition}
  The {\bf Nambu--Goto action} for a relativistic string is given by
  \[ S_{\text{NG}}[X] \coloneqq -T_0 \int_M dA = -T_0 \int_M d^2\sigma \, \sqrt{-\det g}. \]
  Again, note that it satisfies {\bf reparametrization invariance},
  literally by construction.
\end{definition}

But again, we have a square root and derivatives inside it, and now we
know how to get rid of it: introduce an independent world sheet metric
$\gamma_{ab}(\sigma)$. This time the metric is on a surface, so
we need to specify the signature. We take Lorentzian signature $(-,
+)$.

\begin{definition}
  The {\bf Polyakov action} for a relativistic string is given by
  \[ S_{\text{P}}[X, \gamma] \coloneqq -\frac{T_0}{2} \int_M d^2\sigma \, \sqrt{-\gamma} \, \gamma^{ab} \di_a X^\mu \di_b X_\mu, \]
  where $\gamma$ without indices stands for $\det(\gamma_{ab})$. From
  now on, we always refer to $\gamma_{ab}$ as the {\bf metric}, and
  $g_{ab}$ as the {\bf induced metric}. World sheet indices are
  raised/lowered using the metric $\gamma_{ab}$, not the induced
  metric $g_{ab}$. (In fact, from now on we basically forget about
  $g_{ab}$; we use it only to introduce the Nambu--Goto action, and
  the following exercise.)
\end{definition}

\begin{exercise}
  Show that $\delta \sqrt{-\gamma} = (1/2)\sqrt{-\gamma} \,
  \gamma^{ab} \delta \gamma_{ab}$, and therefore that
  \[ \delta_\gamma S_{\text{P}}[X, \gamma] = -\frac{T_0}{2} \int_M d^2\sigma \, \sqrt{-\gamma} \, \delta \gamma^{ab} \left(g_{ab} - \frac{1}{2} \gamma_{ab} \gamma^{cd} g_{cd}\right). \]
  Rearrange the obtained equation of motion and conclude that
  $g_{ab}\sqrt{-g} = \gamma_{ab}\sqrt{-\gamma}$. Hence replace
  $\gamma$ in $S_{\text{P}}[X, \gamma]$ with $g$, and obtain that
  $S_{\text{P}}[X, \gamma] = S_{\text{NG}}[X]$.
\end{exercise}

\begin{definition}
  As in general relativity, define the {\bf stress-energy tensor}
  \begin{align}
      \label{stressenergydefn}
      T_{ab}(\sigma) \coloneqq -\frac{4\pi}{\sqrt{-\gamma}} \delta_{\gamma}
      S_{\text{P}}[X, \gamma] = -2\pi T_0 \left(\di_a X^\mu \di_b X_\mu -
      \frac{1}{2} \gamma_{ab} \di_c X^\mu \di^c X_\mu\right),\end{align}
  so that the equation of motion arising from varying $\gamma$ says
  $T_{ab} = 0$. We call $T_{ab} = 0$ a {\bf constraint} on the
  equation of motion for $X^\mu$, which we derive soon.
\end{definition}

\begin{exercise} (Important!)
  Now vary $S_{\text{P}}[X, \gamma]$ with respect to $X^\mu$ to obtain
  \begin{align*}
    \delta_X S_{\text{P}}[X, \gamma]
    &= -T_0 \int_M d^2\sigma \, \sqrt{-\gamma} \, \gamma^{ab} \left(\di_a(\delta X^\mu \di_b X_\mu) - \di_a \di_b X_\mu \delta X^\mu\right) \\
    &= -T_0 \int_0^{\ell} d\sigma^1 \, \sqrt{-\gamma} \left[\delta X^\mu \di^0 X_\mu\right]_{\sigma^0=\tau_i}^{\sigma^0=\tau_f} - T_0 \int_{\tau_i}^{\tau_f} d\sigma^0 \, \sqrt{-\gamma} \left[\delta X^\mu \di^1 X_\mu\right]_{\sigma^1=0}^{\sigma^1=\ell} \\
    &\qquad + T_0 \int_M d^2\sigma \, \sqrt{-\gamma} \, \delta X^\mu \nabla^2 X_\mu.
  \end{align*}
\end{exercise}

A careful inspection of the terms in the variation $\delta_X
S_{\text{P}}[X, \gamma]$ yield interesting insights. For this
variation to vanish, each of the terms must vanish independently,
since they control different aspects of the string's behavior.
\begin{enumerate}
\item The last term is determined by the motion of the string in the
  domain $(0, \ell) \times (\tau_i, \tau_f)$, and therefore $\delta
  X^\mu$ is not constrained by any boundary conditions there. Hence we
  have the {\bf equation of motion} $\sqrt{-\gamma} \, \nabla^2 X_\mu
  = 0$.
\item The first term is determined by the configuration of the string
  at times $\tau_i$ and $\tau_f$. If we specify these configurations
  as {\bf initial and final conditions}, then $\delta X^\mu$ is zero
  for the first term, so the term vanishes.
\item The second term is determined by the configuration of the
  endpoints of the string when $\sigma^0 \in (\tau_i, \tau_f)$. It
  does not vanish automatically. We have to impose {\bf boundary
    conditions} in order to make it vanish.
\end{enumerate}

\begin{definition}
  There are two different kinds of boundary conditions.
  \begin{itemize}
  \item The {\bf free (Neumann) boundary condition} is $\di^1
    X_\mu(\sigma^0, 0) = \di^1 X_\mu(\sigma^0, \ell) = 0$.
  \item The {\bf Dirichlet boundary condition} is $\delta
    X^\mu(\sigma^0, 0) = \delta X^\mu(\sigma^0, \ell) = 0$.
  \end{itemize}
  Alternatively, if the string is {\bf closed}, i.e. we have the {\bf
    periodicity} conditions
  \[ X^\mu(\sigma^0, 0) = X^\mu(\sigma^0, \ell), \quad \di^a X^\mu(\sigma^0, 0) = \di^a X^\mu(\sigma^0, \ell), \quad \gamma_{ab}(\sigma^0, 0) = \gamma_{ab}(\sigma^0, \ell), \]
  no additional boundary conditions are necessary.
\end{definition}

For a long time, string theorists did not seriously consider the
Dirichlet boundary condition. Why should the endpoints of an open
string be fixed, and if they were, where would they be fixed onto? In
particular, this fixing of endpoints would violate momentum
conservation. Then Polchinski, in the 1990s, suggested that the
endpoints are attached to {\bf D-branes}, which should themselves be
thought of as dynamical objects alongside strings. Conceptually, then,
\begin{enumerate}
\item a D$0$-brane is a particle, a D$1$-brane is a string, and so on,
  and they interact non-trivially;
\item the Dirichlet boundary condition says that a given D$1$-brane
  has fixed endpoints on a higher D$p$-brane;
\item any momentum lost by the D$1$-brane is absorbed by the
  D$p$-brane; and
\item the Neumann boundary condition is just saying there is a
  D-dimensional D-brane permeating all of space-time, i.e. the string
  endpoints are not fixed at all.
\end{enumerate}
We return to this D-brane perspective much later on. It is hard enough
to quantize strings without more dynamical objects floating around. We
take {\bf Neumann boundary conditions} for now.

\section{Gauge Freedom and Gauge Fixing}

There is another reason the Polyakov action is preferable over the
Nambu--Goto action: it has more symmetries, and these symmetries make
it easier to gauge fix (using Faddeev--Popov or otherwise) when we try
to quantize. The Polyakov action is invariant under the following
symmetries:
\begin{enumerate}
\item $D$-dimensional {\bf Poincar\'e transformations}:
  \[ X^\mu(\sigma) \mapsto \Lambda^\mu{}_\nu X^\nu(\sigma) + a^\mu, \quad \gamma_{ab}(\sigma) \mapsto \gamma_{ab}(\sigma); \]
\item {\bf Reparametrization} (i.e. diffeomorphisms): for new
  coordinates $\tilde{\sigma}^a(\sigma)$,
  \[ X^\mu(\sigma) \mapsto X^\mu(\tilde{\sigma}), \quad \gamma_{ab}(\sigma) \mapsto \pder{\sigma^c}{\tilde{\sigma}^a} \pder{\sigma^d}{\tilde{\sigma}^b} \gamma_{cd}(\sigma); \]
\item $2$-dimensional {\bf Weyl transformations}: for arbitrary
  $\omega(\sigma)$,
  \[ X^\mu(\sigma) \mapsto X^\mu(\sigma), \quad \gamma_{ab}(\sigma) \mapsto \exp(2\omega(\sigma)) \gamma_{ab}(\sigma). \]
  The Nambu--Goto action is not invariant under Weyl transformations.
\end{enumerate}

\begin{exercise}
  Verify all these statements. (This should be quite straightforward.)
\end{exercise}

\begin{definition}
  Let $\diff$ denote the group of diffeomorphisms acting on $\Sigma$,
  and $\Weyl$ the group of Weyl transformations acting on $\Sigma$;
  these are {\bf internal symmetries}, while Poincar\'e
  transformations are {\bf external symmetries}. The product $\diff
  \times \Weyl$ is the {\bf gauge group}. The orbit, in the space of
  all possible fields and metrics, of a particular $(X, \gamma)$ under
  the action of the gauge group is the {\bf gauge orbit}.
\end{definition}

A good exercise in working with the gauge and external symmetries is
to make sure Polyakov action is as general as possible. This also
reduces future work when we need the additional terms in the Polyakov
action. Note that here, contrary to the case in QFT, the symmetries
are very demanding. Weyl invariance in particular is very odd: it
prevents us from adding terms such as
\[ \int_M d^2\sigma \, \sqrt{-\gamma} \, V(X), \quad \mu \int_M d^2\sigma \, \sqrt{-\gamma}. \]

\begin{exercise}
  Convince yourself that the action must contain one more
  $\gamma^{ab}$ than $\gamma_{ab}$ in order to satisfy Weyl invariance
  and counteract the change in $\sqrt{-\gamma}$. Since such a
  $\gamma^{ab}$ can only pair up indices with derivatives, we need a
  second-order Lorentz-invariant term that is coordinate-independent.
  Convince yourself that other than $\di_a X^\mu \di_b X_\mu$, this
  term can only involve $\gamma^{ab}$ and $\gamma_{ab}$, and that in
  fact it must be the {\bf scalar curvature} $R$. Show that under a
  Weyl transformation,
  \[ \sqrt{-\gamma} \, R \mapsto \sqrt{-\gamma} (R - 2\nabla^2 \omega). \]
  Hence argue that we need another term integrated over $\di M$ to
  counteract $\nabla^2(\sqrt{-\gamma} \, \omega)$. Putting everything
  together, conclude that
  \[ \chi \coloneqq \frac{1}{4\pi} \int_M d^2\sigma \, \sqrt{-\gamma} \, R + \frac{1}{2\pi} \int_{\di M} ds \, k \]
  is Weyl invariant, and that it is essentially the only term we can
  add to the Polyakov action. Here $ds$ is proper time along $\di M$
  using the metric $\gamma_{ab}$, and $k \coloneqq \pm t^a n_b
  \nabla_a t^b$ is the {\bf geodesic curvature} of the boundary, where
  $t^a$ is a unit vector tangent to the boundary, and $n_b$ an
  outward-pointing unit vector, and we choose $\pm$ depending on
  whether the boundary is timelike or spacelike.
\end{exercise}

Let's explore a few choices of gauge, some which use up all the gauge
freedom, and some which do not. We commonly use reparametrization
invariance to simplify expressions, so let's explore some choices of
gauge using reparametrization invariance first.

\begin{definition}
  We can reparametrize $(\sigma^0, \sigma^1)$ such that $\sigma^0$
  corresponds to the time coordinate $x^0$, i.e. $X^0 = R\sigma^0$ for
  some dimensionful constant $R$. This is {\bf static gauge}, named as
  such because then lines of constant $\sigma^0$ correspond to the
  string at fixed moments in time, i.e. the string is static. Another
  choice is {\bf light cone gauge}, given by $X^+ = R\sigma^0$, where
  \[ X^\pm \coloneqq \frac{1}{\sqrt{2}}(X^0 \pm X^1), \quad \sigma^\pm \coloneqq \frac{1}{\sqrt{2}}(\sigma^0 \pm \sigma^1) \]
  are {\bf light cone coordinates} on Minkowski space and the world
  sheet respectively. When in light cone gauge, the indices $i, j,
  \ldots$ range over $\{2, \ldots, D\}$.
\end{definition}

Clearly neither static gauge nor light cone gauge exhausts the gauge
freedom: we haven't done anything with the metric! But it is hard to
transform the metric in a useful way while staying in static or
light cone gauge. Let's take a different approach and try to transform
the metric first.

The transformation of the scalar curvature computed in the exercise
above says we can use Weyl invariance to locally set the scalar
curvature to zero, by solving $2\nabla^2\omega = R$ and then applying
the Weyl transformation $\exp(2\omega)$. But we are in two dimensions,
where the symmetries of the Riemann curvature tensor determine it from
$R$:
\[ R_{abcd} = R_{cdab}, \; R_{abcd} = -R_{bacd} = -R_{abdc} \implies R_{abcd} = (1/2)(\gamma_{ac}\gamma_{bd} - \gamma_{ad}\gamma_{bc}) R. \]
Hence we can always locally get a flat metric, which, possibly after
applying a coordinate transformation, gives $\gamma_{ab} = \eta_{ab}$,
the flat Minkowski metric.

\begin{definition}
  If we consider only reparametrization and not Weyl transformations,
  the metric $\gamma_{ab}$ can always be brought to the form
  $\exp(2\omega)\eta_{ab}$. Forcing the metric to be of that form is
  known as {\bf conformal gauge}. Performing the additional Weyl
  transformation to obtain $\gamma_{ab} = \eta_{ab}$ is known as {\bf
    unit gauge}. In general, the form of the metric we choose to put
  $\gamma_{ab}$ in is called the {\bf fiducial metric}.
\end{definition}

\begin{exercise} (Important!)
  Show that in unit gauge, the equation of motion and its
  constraints become
  \[ \di_a \di^a \vec{X} = 0, \quad \di_0\vec{X} \cdot \di_1\vec{X} = 0, \quad (\di_0\vec{X})^2 + (\di_1\vec{X})^2 = R^2. \]
  In this form, the constraints are called {\bf Virasoro conditions}.
  Argue that by tensoriality, the Virasoro conditions still hold in
  static gauge, where $X^\mu = (R\sigma^0, \vec{X})$. Hence show in
  static gauge that at the (free) endpoints an open string, i.e.
  endpoints satisfying the Neumann boundary condition, $|\di_t\vec{X}|
  = 1$. ({\bf Be careful}: $\di_t$ is not $\di_0$. What is $\di_t$?)
  Conclude that string endpoints always move at the speed of light.
\end{exercise}

How many internal degrees of freedom have we used up if we put the
metric $\gamma_{ab}$ in unit gauge? Well, $\diff$ has two degrees of
freedom, one for each coordinate, and $\Weyl$ has one, for the scale
of the metric. But the metric itself has three independent components,
being symmetric. Hence we expect to be done with choosing a
representative of each gauge orbit.

But, perhaps unexpectedly, there is more gauge freedom: there are
non-trivial transformations in $\diff \times \Weyl$ that preserve unit
gauge! The key to finding these transformations is to realize that
$\Sigma$ is actually a {\bf Riemann surface}: let $z \coloneqq
\sigma^0 + i\sigma^1$, so that $ds^2 = dz d\bar{z}$. Now if $f(z)$ is
a holomorphic change of coordinates, then
\[ z \mapsto f(z), \quad ds^2 \mapsto |\di_z f|^{-2} dz d\bar{z}, \]
so now applying the Weyl transformation $\exp(2 \ln |\di_z f|)$
recovers $ds^2$. Clearly the composition of the two transformations is
non-trivial.

What went wrong? Well, just because dimensions match up does not mean
we have spanned the whole space of gauge transformations! The
holomorphic diffeomorphisms above actually have {\bf measure zero} in
$\diff$. When we stop working locally and work globally instead, these
extra bits of freedom are removed by boundary conditions.

\begin{definition}
  When we successfully pick a unique and continuously-varying choice
  of representative in each gauge orbit, our theory is {\bf
    gauge-fixed}. When such a choice is impossible due to topological
  obstructions, our theory has {\bf Gribov ambiguity}. (For us, there
  is no Gribov ambiguity; we are just failing to consider boundary
  conditions.)
\end{definition}

\section{Quantization via Canonical Commutation Relations}

When we did QFT, we started by {\bf canonically quantizing} the
Klein-Gordon and Dirac fields, which allowed us to immediately
investigate some aspects of the quantized free theories, such as that
Klein-Gordon fields represent bosons and Dirac fields represent
fermions, and to obtain the spectrum and Hilbert space of states. On
the other hand, {\bf path integral quantization} gave us an easy way
to compute interactions in perturbative QFT, such as scattering
amplitudes. We do the same for string theory: first, in this section,
we canonically quantize in order to write down the spectrum and
Hilbert space of states, and then, in the next section, we quantize
using the path integral to work with interactions.

In string theory, canonical quantization no different from what we saw
in QFT. The procedure is the same: take the classical object (e.g.
Lagrangian, Hamiltonian, solutions) you want to quantize, and impose
{\bf canonical commutation relations} modeled on $[x, p] = i$ on
dynamical variables, by promoting them all to operators.

\subsection{Classical Solutions}

We take classical solutions and quantize them in light cone gauge as
well as two more gauge-fixing conditions for the metric: set
\[ X^+ = \sigma^0, \quad \di_1 \gamma_{11} = 0, \quad \det \gamma_{ab} = -1. \]
Note that we have dispensed with the dimensionful constant $R$; it can
be reinserted via dimensional analysis. The first thing to do right
after picking a gauge is to rewrite all the relevant objects in that
gauge. To do so, we need some formulas.

\begin{exercise}
  Show that in this gauge, $\gamma_{11}(\sigma^0)$ depends only on
  $\sigma^0$, and we have
  \[ \begin{pmatrix} \gamma^{00} & \gamma^{01} \\ \gamma^{10} & \gamma^{11} \end{pmatrix} = \begin{pmatrix} -\gamma_{11}(\sigma^0) & \gamma_{01}(\sigma) \\ \gamma_{01}(\sigma) & \gamma_{11}^{-1}(\sigma^0)(1 - \gamma_{01}^2(\sigma)) \end{pmatrix}. \]
  Furthermore, show that $\di_a X^\mu \di_a X_\mu = 2\di_a X^+ \di_a
  X^- - \di_a X^i \di_a X^i$. (Recall that indices $i, j, \ldots$
  range over $\{2, \ldots, D\}$).
\end{exercise}

\begin{definition}
  Given a dynamical variable $V(\sigma)$, define its associated {\bf
    center of mass} (conceptually at a fixed time) variables
  \[ v(\sigma^0) = \frac{1}{\ell} \int_0^\ell d\sigma^1 \, V(\sigma), \quad \tilde{V}(\sigma) = V(\sigma) - v(\sigma^0), \]
  i.e. we split $V = v + \tilde{V}$ where $v$ is the mean value of
  $V$, and $\tilde{V}$ has mean zero.
\end{definition}

For example, using that $\di_1X^+ = 0$, we have
\[ \di_1\tilde{X}^- = \di_1X^- = \frac{1}{\sqrt{2}}(\di_1X^0 - \di_1X^1) = \sqrt{2} \di_1X^0, \]
and using that $\di_0X^+ = 1$, we have
\[ \di_0X^0\di_1X^0 - \di_0X^1\di_1X^1 = (\di_0X^0 + \di_0X^1)\di_1X^0 - \di_0X^1(\di_1X^0 + \di_1X^1) = \sqrt{2} \di_1X^0 - 0. \]

\begin{exercise}
  Using all these calculations, show that the Polyakov Lagrangian in
  this gauge is
  \[ L = -\frac{T_0}{2} \int_0^\ell d\sigma^1 \bigg[\gamma_{11}(2\di_0X^- - \di_0X^i\di_0X^i) - 2\gamma_{01}(\di_1\tilde{X}^- - \di_0X^i \di_1X^i) + \gamma_{11}^{-1}(1 - \gamma_{01}^2) \di_1X^i \di_1X^i\bigg]. \]
  Argue that because $\tilde{X}^-$ does not appear with time
  derivatives, it is not a dynamical variable, and therefore when we
  vary $S_{\text{P}}$ with respect to $\gamma$, it constrains
  $\di_1\gamma_{01}$ to be zero. Show that the Neumann boundary
  condition, in this gauge, gives $\gamma_{01} = 0$ at the endpoints
  $\sigma = 0, \ell$, and conclude that $\gamma_{01} = 0$ everywhere.
  Therefore write down the simplified {\bf Lagrangian}:
  \[ L = -T_0\ell \gamma_{11}\di_0 x^- + \frac{T_0}{2} \int_0^\ell d\sigma^1 \, \left(\gamma_{11} \di_0X^i \di_0X^i - \gamma_{11}^{-1} \di_1X^i \di_1X^i\right), \]
\end{exercise}

The next step is to write down the Hamiltonian, which is the {\bf
  Legendre transform} of the Lagrangian. Recall that this means we
write down momenta $\Pi_\mu$ corresponding to $X^\mu$, and then define
\[ H \coloneqq \int_0^\ell \Pi_\mu \di_0 X^\mu - L = \int_0^\ell d\sigma^1 \, \left(\Pi_+\di_0 X^+ + \Pi_-\di_0 X^- + \Pi_i \di_0 X^i\right) - L = p_- \di_0 x^- + \int_0^\ell \Pi_i \di_0 X^i - L, \]
where $p_-$ is the momentum conjugate to $x^-$, and $\Pi^i$ is the
momentum density conjugate to $X^i$:
\[ p_- \coloneqq \pder{L}{\di_0x^-} = -T_0\ell \gamma_{11}, \quad \Pi^i \coloneqq \fder{L}{\di_0X^i} = T_0\gamma_{11}\di_0X^i = \frac{p^+}{\ell} \di_0X^i. \]
Note that $p_- = -p^+$. Simplifying, we get the Hamiltonian
\[ H = \frac{\ell T_0}{2p^+} \int_0^\ell d\sigma^1 \, \left(\frac{1}{T_0} \Pi^i \Pi^i + T_0 \di_1 X^i \di_1 X^i\right), \]
which is precisely the {\bf Hamiltonian} for $D - 2$ free fields
$X^i$, with $p^+ \propto \gamma_{11}$ a conserved quantity.

We can also directly write down {\bf classical solutions}: the
equation of motion in this gauge is $\di_+ \di_- X^i = 0$, which has
the general solution
\[ X^i(\sigma) = X^i_L(\sigma^+) + X^i_R(\sigma^-) \]
for arbitrary functions $X^i_L$ and $X^i_R$, describing {\bf
  left-moving} and {\bf right-moving} waves respectively, which we can
expand as Fourier series:
\begin{align*}
  X^i_L(\sigma^+) &= \frac{1}{2}x^i(0) + \frac{1}{2T_0} p^i(0) \sigma^+ + i\frac{\ell}{\pi}\sqrt{\frac{1}{2T_0}} \sum_{n \neq 0} \frac{1}{n} \tilde{\alpha}_n^i e^{-in\pi\sigma^+/\ell}, \\
  X^i_R(\sigma^-) &= \frac{1}{2}x^i(0) + \frac{1}{2T_0} p^i(0) \sigma^- + i\frac{\ell}{\pi}\sqrt{\frac{1}{2T_0}} \sum_{n \neq 0} \frac{1}{n} \alpha_n^i e^{-in\pi\sigma^-/\ell}.
\end{align*}
(Here $p^i$ are center of mass variables for $\Pi^i$ with an extra
factor of $\ell$. We've also mucked around with the normalization
factors for Fourier coefficients for later convenience.) Because the
$X^i$ are real fields, we have the {\bf constraints}
$\tilde{\alpha}^i_n = (\tilde{\alpha}^i_{-n})^*$ and $\alpha^i_n =
(\alpha^i_{-n})^\dag$ on the Fourier coefficients.

\begin{exercise}
  Show that the Neumann boundary condition forces $\tilde{\alpha}_n^i
  = \alpha_n^i$, so that the general form of a {\bf classical solution
    for an open string} is
  \[ X^i(\sigma) = x^i(0) + \frac{1}{2T_0}p^i(0)\sigma^0 + i\frac{\ell}{\pi}\sqrt{\frac{1}{2T_0}} \sum_{n \neq 0} \frac{1}{n} \alpha_n^i e^{-in\pi\sigma^0/\ell} \cos \frac{n\pi\sigma^1}{\ell}. \]
\end{exercise}

Finally, we must write down the {\bf constraints}, i.e. the Virasoro
conditions in this gauge. They become $(\di_+X)^2 = (\di_-X)^2 = 0$,
which give conditions on the momenta $p^i$ and Fourier coefficients
$\alpha_n^i$. Both $\di_+$ and $\di_-$ give the same result, so we
compute
\[ \di_+X^i = \di_+X^i_L = \frac{1}{2T_0} p^i(0) + \sqrt{\frac{1}{2T_0}} \sum_{n \neq 0} \alpha_n^i e^{-in\pi\sigma^+/\ell}. \]
Hence, writing $\alpha_0^i \coloneqq \sqrt{1/2T_0} \, p^i(0)$,
\[ 0 = (\di_+X)^2 = \frac{1}{T_0} \sum_n L_n e^{-i\pi n \sigma^+/\ell}, \quad L_n \coloneqq \frac{1}{2} \sum_m \alpha_m \cdot \alpha_{n-m}. \]
So the $L_n$ are the Fourier coefficients of the constraints. By the
linear independence of the Fourier basis, $L_n = 0$ for all $n \in
\bZ$. In particular, since $p_\mu p^\mu = -M^2$ is the effective mass
and $L_0$ contains the momentum, $L_0 = 0$ implies that the {\bf
  effective mass} of the string is
\[ M^2 = -p \cdot p = 4 T_0 \sum_{m > 0} \alpha_m \cdot \alpha_{-m}. \]

\subsection{Canonical Quantization}

Quantization is now trivial: we impose the canonical {\bf equal-time
  commutation relations}
\[ [x^-, p^+] = i\eta^{-+} = -i, \quad [X^i(\sigma), \Pi^j(\sigma')] = i\delta^{ij} \delta(\sigma - \sigma'), \]
with all other commutators vanishing. In terms of Fourier components,
\[ [x^-, p^+] = -i, \quad [x^i, p^j] = i\delta^\mu{}_\nu, \quad [\alpha^i_m, \alpha^j_n] = m \delta^{ij} \delta_{m+n,0}, \]
with all other commutators vanishing. So as in QFT, we can treat
$\alpha^i_n$ as creation/annihilation operators ($\alpha$ is annihilation, $\alpha^\dag$ is creation), and build up our
state space using them. Note that instead of just a single
creation/annihilation operator, we have an infinite tower of them!

\begin{definition}
  The {\bf creation/raising operators} are $\alpha^i_{-m}$ and the
  {\bf annihilation/lowering operators} are $\alpha^i_n$. The {\bf
    ground state of a string with momentum $k$} is defined as the
  eigenstate $\ket{0; k}$ of $p^i$, the center of mass momenta,
  annihilated by the annihilation operators, i.e.
  \[ p^+\ket{0; k} = k^+\ket{0; k}, \quad p^i\ket{0; k} = k^i\ket{0; k}, \quad \alpha^i_m\ket{0; k} = 0 \quad \forall m > 0. \]
  Note that the zero-momentum ground state $\ket{0; 0}$ of a string is
  not the true {\bf vacuum state}, which consists of no strings at
  all; we denote the true vacuum state $\ket{\vacuum}$.
\end{definition}

Unlike QFT, each raising operator $\alpha^i_{-m}$ (for varying $m$)
creates a different mode. So the {\bf independent states} are labeled
using center of mass momenta $k = (k^+, k^i)$, and occupation numbers
$N_{i,n}$ for $i = 2, \ldots, D$ and $n = 1, 2, \ldots$:
\[ \ket{N; k} \coloneqq \left(\prod_{i=2}^D \prod_{n=1}^\infty \frac{(\alpha^i_{-n})^{N_{i,n}}}{\sqrt{n^{N_{i,n}} N_{i,n}!}}\right) \ket{0; k}. \]
(The normalization is chosen for convenience.) Hence there are an
infinite number of different first excitations of a single string. Let
$\cH_1$ denote the space of all possible single-string states:
\[ \cH_1 \coloneqq \vspan\{\ket{N; k} : \text{all possible } N, k\}. \]

\begin{definition}
  The {\bf state space}, of any number of strings, is a {\bf bosonic
    Fock space}
  \[ \Sym(\cH_1) \coloneqq \ket{\vacuum} \oplus \cH_1 \oplus (\cH_1 \odot \cH_1) \oplus (\cH_1 \odot \cH_1 \odot \cH_1) \oplus \cdots \oplus \cdots, \]
  where $\odot$ is the symmetrized tensor product
  \[ v_1 \odot \cdots \odot v_n \coloneqq \frac{1}{n!} \sum_{\sigma \in S_k} v_{\sigma(1)} \otimes \cdots \otimes v_{\sigma(n)}. \]
  The $n$-th term in the sum $\Sym(\cH_1)$ is the state space of $n$
  strings. We symmetrize because it turns out the strings we are
  working are bosonic, i.e. they have integer spin, i.e. they commute,
  instead of anticommuting. ($\Sym(\cH_1)$ is known by us
  mathematicians as a {\bf symmetric algebra}; a fermionic Fock space,
  for objects with half-integer spins, is an exterior algebra.)
\end{definition}

We still need to impose the constraints $L_n = 0$, coming from the
Virasoro conditions. Naively one might just insist that as operators,
$L_n = 0$, but this quickly runs into problems (cf. Gupta--Bleuler
quantization of QED). Instead, we impose $L_n\ket{\text{phys}} = 0$
for any physical state $\ket{\text{phys}}$.

\subsection{Spectrum and Critical Dimension}

By mass-energy equivalence, to find the spectrum of our quantized
string is equivalent to finding its effective mass, i.e. we must look
at the quantized version of $M^2 = 4T_0\sum_{m > 0} |\alpha_m|^2$. But
when we quantize, $\alpha_m$ and $\alpha_{-m}$ no longer commute, so
there is an operator ordering ambiguity here. There are two choices:
either we quantize $\alpha_m \cdot \alpha_{-m}$, or we quantize
$\alpha_{-m} \cdot \alpha_m$. They both give
\[ M^2 = 4T_0 \sum_{m > 0} (N_m + a), \quad N_m \coloneqq \alpha_{-m} \cdot \alpha_m \]
(where by analogy with the harmonic oscillator, we've defined the {\bf
  number operators} $N_m$), but the first with $a = m(D-2)/2$, using
the commutation relation $[a_m^i, a_{-m}^i] = m$, and the second with
$a = 0$. There are some physical arguments for why we pick the former
during the quantization of the simple harmonic oscillator (Heisenberg
uncertainty principle, etc.), but it boils down to the assertion that
we want the ground state of the system to have non-zero energy. Hence
we pick $a = m(D-2)/2$.

\begin{exercise}
  Recall/review from QFT that $\sum_{m > 0} m = -1/12$, and therefore
  conclude that the ground state and first excited states, i.e.
  $\alpha_{-m}^i\ket{0; k}$ for any $m$, have energies
  \[ M_0^2 = 4T_0\frac{2-D}{24}, \quad M_1^2 = 4T_0\frac{26-D}{24}. \]
\end{exercise}

Fix an $m$. The first excited state $\alpha_{-m}^i\ket{0; k}$ acts as
a vector because it has a vector index $i$, so it better be Lorentz
invariant. In particular, in the rest frame, the (spatial rotation
subgroup of the) Lorentz group can act on a vector to make it point in
any spatial direction, so vectors better have $D-1$ states. But
$\alpha_{-m}^i$ lives in the standard representation of $\SO(D-2)$: it
only has $D-2$ states contained in it. This is not good!

Here is the solution: we posit that $M_1^2 = 0$. Then there is no rest
frame! Consequently, we are only free to rotate around the direction
of motion, giving only $D-2$ states, exactly the number that we have.
But this implies $D = 26$, known as the {\bf critical dimension} of
bosonic string theory. This entire argument is sketchy, and we
(hopefully) give a more rigorous argument later that $D = 26$ is the
only dimension that works, based on enforcing Weyl invariance.

There is another problem: $M_0^2 < 0$ for $D > 2$, especially for $D =
26$. We have {\bf negative energy states}, known as {\bf tachyons}!
This is explained from a field-theoretic perspective: given a field
$\phi$, its mass squared is just $\di^2 V(\phi)/\di \phi^2|_{\phi=0}$.
We are actually expanding around a critical point of the potential
that is a maximum, i.e. an {\bf unstable} point, therefore resulting
in a negative mass-squared. Currently it is unknown whether there are
stable points in the purely bosonic theory. However, with the addition
of fermions and {\bf supersymmetry}, giving the {\bf superstring}, the
problem disappears. This is content for much later on.

\section{Quantization via Path Integral}

Now it is time to develop a different tool. Recall from QFT that we
have a giant machine for quantizing classical theories and studying
their interactive pictures: the path integral. However, before we
begin plugging the Polyakov action into the machine, we need to make a
modification. From now on, the world sheet is equipped with a {\bf
  Euclidean metric} $g_{ab}$, instead of a Lorentzian one
$\gamma_{ab}$. This is so that the path integral over metrics is
better defined. The transition from Euclidean to Minkowski is,
formally, done via {\bf Wick rotation}: $x^0 \mapsto ix^0$ and
similarly for the metric. The {\bf Euclidean path integral}, and the
Euclidean action (with the additional terms on top of the Wick-rotated
Polyakov action), is therefore
\[ Z \coloneqq \frac{1}{\Vol} \int \cD g \, \cD X \, \exp(-S_{\text{P}}[X, g]), \]
\[ S_{\text{P}}[X, g] = \frac{T_0}{2} \int_M d^2\sigma \, \sqrt{g} \, g^{ab} \di_a X^\mu \di_b X_\mu + \lambda\left(\frac{1}{4\pi} \int_M d^2\sigma \, \sqrt{g} \, R + \frac{1}{2\pi}\int_{\di M} ds \, k\right) \]
where $\Vol$ is the volume of the gauge action on the {\bf
  configuration space} consisting of all possible $X^\mu$ and
$g$). More explicitly, we can imagine partitioning configuration
space into gauge orbits; we actually want to integrate on a path
through these gauge orbits. But now recall from QFT that we have
another giant machine for doing so: the Faddeev-Popov method.

\subsection{The Faddeev-Popov Method}

Let's first recall that the idea behind Faddeev-Popov is very natural:
we want to do a change of coordinates in configuration space so that
instead of integrating over a mish-mash of $g$ and $X$, we integrate
such that one variable goes along gauge orbits, and the other goes
along the gauge-fixed path. Although this sounds technical, we perform
procedures like this quite often without realizing it! For example,
consider the calculation
\[ \iint dx \, dy \, e^{-x^2 - y^2} = \int d\theta \int dr \, r e^{-r^2} = 2\pi \int dr \, r e^{-r^2} = \pi. \]
What is really happening here is that we recognized the $U(1)$
symmetry of the original integrand, and changed variables in order to
factor out that symmetry. Instead of integrating over $(x, y)$, we
integrated over $(r, \theta)$, with $\theta$ parametrizing the gauge
orbits. Furthermore, we picked out the $y = 0$ representative of
each gauge orbit for the remaining integral.

Armed with this motivation, we can proceed. Let $\hat{g}_{ab}$ be the
fiducial metric; it represents our choice of gauge fixing, just like
the choice $y = 0$. Let $\zeta$ be shorthand for a combined coordinate
and Weyl transformation:
\[ \zeta\colon g_{ab} \mapsto g^\zeta_{ab} \coloneqq \exp(2\omega(\sigma)) \pder{\sigma^c}{\sigma'^a} \pder{\sigma^d}{\sigma'^b} g_{cd}(\sigma). \]

\begin{definition}
  Let $\cD \zeta$ be a gauge invariant measure on $\diff \times
  \Weyl$. (Whether such a measure exists is very relevant for us, but
  we disregard it for now.) Define the {\bf Faddeev-Popov determinant}
  $\detFP$ by
  \[ \detFP^{-1}(g) \coloneqq \int \cD \zeta \, \delta[\hat{g}^\zeta - g]. \]
  Here the $\delta$ is the {\bf Dirac functional}, i.e.
  $\hat{g}^\zeta$ and $g$ must agree at every point $\sigma$.
\end{definition}

\begin{exercise}
  Show that $\detFP(g)$ is gauge-invariant by computing that
  $\detFP(g^\zeta)^{-1} = \detFP(g)^{-1}$.
\end{exercise}

Now it is time to do the calculation to factor out the integral over
the gauge orbits. The first step is to add a $1$ to the integral:
\[ Z = \int \frac{\cD g \, \cD X}{\Vol} \exp(-S_{\text{P}}[X, g]) = \int \frac{\cD g \, \cD X \, \cD \zeta}{\Vol} \detFP(g) \delta[\hat{g}^\zeta - g] \exp(-S_{\text{P}}[X, g]). \]
The second step is to do the integral over $g$, which, due to the
$\delta[\hat{g}^\zeta - g]$, amounts to replacing $g$ with
$\hat{g}^\zeta$:
\[ Z = \int \frac{\cD X \, \cD \zeta}{\Vol} \detFP(\hat{g}^\zeta)\exp(-S_{\text{P}}[X, \hat{g}^\zeta]). \]
Finally, since both $\detFP$ and $S_{\text{P}}$ are gauge-invariant,
we can replace $\hat{g}^\zeta$ with $\hat{g}$. Then nothing in the
integrand depends on $\zeta$ anymore, so it factors out and cancels
the volume normalization:
\[ Z = \int \frac{\cD \zeta}{\Vol} \int \cD X \, \detFP(\hat{g}) \exp(-S_{\text{P}}[X, \hat{g}]) = \int \cD X \, \detFP(\hat{g}) \exp(-S_{\text{P}}[X, \hat{g}]). \]

\begin{exercise}
  Evaluate $\iint dx \, dy \, e^{-x^2 - y^2}$ by applying the
  Faddeev-Popov method to its $U(1)$ symmetry and the gauge-fixing
  condition $y = 0$. Conclude that the Faddeev-Popov method is
  completely rigorous in finite dimensions, and that $\detFP$ is
  actually a Jacobian (hence the name Faddeev-Popov determinant).
\end{exercise}

\subsection{Computing the Faddeev-Popov Determinant}

It remains to compute the Faddeev-Popov determinant $\detFP$ for the
$\diff \times \Weyl$ action on world sheet metrics. To do so, we make
the simplifying assumption that $\diff \times \Weyl$ actually acts
freely on metrics $g$, i.e. for each $g$, there is exactly one $\zeta$
such that $\delta[\hat{g}^\zeta - g] = 0$. Obviously this assumption
is false: we showed earlier that the action has fixed points (albeit a
measure zero set of them). But it is true locally, so we deal with the
global issues later. The reason we make this assumption is so that we
can compute $\detFP(\hat{g})^{-1}$ by integrating only around a small
neighborhood of $\zeta = 0$. In this neighborhood, we can take
infinitesimal Weyl transformations $\omega(\sigma)$ and infinitesimal
diffeomorphisms $\delta \sigma^\alpha = v^\alpha(\sigma)$, and write
\[ \detFP^{-1}(\hat{g}) = \int \cD \omega \, \cD v \, \delta[2\omega \hat{g}_{ab} + \nabla_a v_b + \nabla_b v_a]. \]
Note that now we are integrating over the Lie algebra of $\diff \times
\Weyl$. We want to get rid of the delta functional.

\begin{exercise}
  For a function $\phi\colon \bR^D \to \bR$, derive the integral form
  \[ \delta[\phi] = \int_{j\colon \bR^D \to \bR} \cD j(x) \, \exp\left(2\pi i \int d^Dx \, j(x)\phi(x)\right) \]
  by applying the one-dimensional identity $\delta(x) = \int dp \,
  \exp(2\pi ipx)$ to piecewise linear paths, and then taking the limit
  as the number of path segments goes to infinity.
\end{exercise}

In our case, the function inside the delta functional lives on the
world sheet $\Sigma$, whose integration measure is $d^2\sigma \,
\sqrt{\hat{g}}$ (remember we fixed the fiducial metric). Hence, if
$\beta$ ranges over symmetric $2$-tensors on $\Sigma$, then
\[ \detFP^{-1}(\hat{g}) = \int \cD \omega \, \cD v \, \cD \beta \, \exp\left(2\pi i \int d^2\sigma \, \sqrt{\hat{g}} \, \beta^{ab}(2\omega \hat{g}_{ab} + \nabla_a v_b + \nabla_b v_a)\right). \]
But we can directly do the integral over $\omega$. The one and only
term containing an $\omega$ factors out to give a delta functional:
\[ \int \cD \omega \, \exp\left(2\pi i \int d^2\sigma \, \sqrt{\hat{g}} \, \beta^{ab} (2\omega \hat{g}_{ab})\right) = \delta[2\beta^{ab}\hat{g}_{ab}], \]
i.e. in the remaining integral, $\beta^{ab}$ is traceless:
\[ \detFP^{-1}(\hat{g}) = \int \cD v \, \cD \beta \, \exp\left(2\pi i \int d^2\sigma \, \sqrt{\hat{g}} \, \beta^{ab}(\nabla_a v_b + \nabla_b v_a)\right). \]
{\bf Recap}: we are integrating over vector fields $v$ and symmetric
$2$-tensors $\beta$ such that $\beta^{ab}$ is traceless, both living
on $\Sigma$.

\subsection{Faddeev-Popov Ghosts}
\label{chapterone-fpghosts}

We are not done: the path integral above is for $\detFP^{-1}$, but we
want $\detFP$ itself. There is a general procedure for inverting
$\detFP^{-1}$. To understand it, we must first clarify what $\detFP$
really is. Let $F$ is the gauge-fixing condition. (For us, $F$ is a
function of $g$ and $\zeta$ and takes values in symmetric
$2$-tensors.) Note that via a change of variables from $\zeta$ to $F$,
\[ \detFP^{-1} = \int D\zeta \, \delta(F) = \int DF \, \det\left[\fder{\zeta}{F}\right] \delta(F) = \det\left[\fder{\zeta}{F}\right]_{F=0}. \]
This change of variables is valid again because we assume $\zeta$ acts
freely on gauge orbits, and $F$ is supposed to pick a unique
representative from each gauge orbit, so $\zeta$ and $F$ ``have the
same number of degrees of freedom'' as physicists like to say. Now all
we have to do is invert the determinant. For this, we use a clever
trick, which is developed in the following two exercises.

\begin{exercise}
  Show by analogy from the finite dimensional case for two real fields
  $\phi^1$ and $\phi^2$ that
  \[ \int \cD \phi^1 \, \cD \phi^2 \exp\left(i\int d^dx \, \phi^1 A \phi^2\right) = (\det A)^{-1}. \]
\end{exercise}

\begin{exercise}
  Recall from QFT that we defined {\bf Grassmann numbers}: they are
  anti-commuting formal variables, i.e. $\theta \eta = -\eta \theta$,
  that form an algebra. We also worked out the {\bf Berezin integral}
  for Grassmann-valued quantities, with the convention that $\int
  d\theta \int d\eta \, \eta\theta = 1$. If $\theta$ and $\eta$ are
  Grassmann variables, i.e. taking values in the Grassmann algebra,
  and $b \in \bR$, review/show (in order) that
  \[ \theta^2 = 0, \quad \int d\theta f(\theta) = \pder{f}{\theta}, \quad \int d\theta \, d\eta \, \exp(-\theta b\eta) = b \]
  Hence show by analogy with the finite dimensional case that for
  Grassmann-valued fields $\chi^1$ and $\chi^2$,
  \[ \int \cD \chi^1 \, \cD \chi^2 \exp\left(-\int d^dx \, \chi^1 A \chi^2\right) = \det A. \]
\end{exercise}

So here's the trick: if we have a path integral expression for $(\det
A)^{-1}$, to get $\det A$ we simply replace ordinary variables with
Grassmann variables! In particular, to get $\detFP(\hat{g})$ from
$\detFP(\hat{g})^{-1}$, we replace $(\beta_{ab}, v^a)$ with
Grassmann-valued fields $(b_{ab}, c^a)$, with $b^{ab}$, like
$\beta^{ab}$, being traceless:
\[ \detFP(\hat{g}) = \int \cD b \, \cD c \, \exp(S_{\text{G}}), \quad S_{\text{G}} \coloneqq \frac{1}{2\pi} \int d^2\sigma \, \sqrt{\hat{g}} \, b_{ab} \nabla^a c^b. \]
Note that we've implicitly made a few cosmetic changes:
\begin{enumerate}
\item Because $b$ is a symmetric $2$-tensor (do {\bf not} confuse the
  fact that $b$ is symmetric, i.e. $b_{ab} = b_{ba}$, with $b$ being
  anti-commutative, e.g. $b_{ab}\theta = -\theta b_{ab}$), we can
  rewrite
  \[ b^{ab}(\nabla_a c_b + \nabla_b c_a) = b^{ab}\nabla_a c_b + b^{ab} \nabla_a c_b = 2b^{ab}\nabla_a c_b = 2b_{ab} \nabla^a c^b. \]
\item We chose slightly different normalization factors to make later
  computations cleaner.
\end{enumerate}
The quantity $S_{\text{G}}$ is called the {\bf ghost action}: when we
plug $\detFP(\hat{g})$ back into the path integral, we get
\[ Z = \int \cD X \, \cD b \, \cD c \, \exp(-S_{\text{P}}[X, \hat{g}] - S_{\text{G}}[b, c]), \]
i.e. $S_{\text{G}}$ becomes part of the action. The fields $b$ and
$c$, which do not correspond physically to anything, are {\bf
  Faddeev-Popov ghost fields}. The price of gauge fixing is the
introduction of these unphysical ghosts.

\begin{exercise}
  Repeat the computation of $\detFP$ for QED, and show that for QED,
  $\detFP$ is independent of any fields. Hence conclude that QED has
  no Faddeev-Popov ghosts. (That's why quantizing QED went a lot
  faster. QCD has ghosts, however.)
\end{exercise}

\chapter{Conformal Field Theory}
String theory as we have defined it so far is a 2 dimensional theory where
the fields are parameterized by two coordinates $(\sg^1,\sg^2)$. We shall
now explore the conformal symmetry of the Polyakov action and deduce a
number of important technical tools that will enable us to say a lot about
the properties of this quantum field theory. This conformal symmetry is
especially large in two dimensions and provides significant constraints.
\footnote{References that were used for the preparation of this chapter
include Polchinski's Vol 1, Polchinski's Little Book, and Ginsparg's
Applied CFT arXiv:hep-th/9108028, IAS Vol 1 and 2, Gomis' PSI 14/15
Lectures on CFT, Green Schwarz Witten Vol 1.}

The technical tool that will drive this whole chapter is the
\textbf{operator product expansion} (OPE). This is a canonical form
for the product of two local operators:
\begin{align}
\mc A_i(\sg_1)\mc A_j(\sg_2) = \sum_k c^k_{ij}(\sg_1-\sg_2) \mc A_k(\sg_2).
\label{OPEdefinition}
\end{align}
This will turn out to be much like a Laurent expansion and the form of
$c^k_{ij}(\sg_1-\sg_2)$ is severely restricted.

There are many reasons why it is useful for us to learn about CFT. Certain
critical phase transitions can be described by a CFT and using the AdS/CFT
correspondence we may be able to take a highly correlated system and
rewrite it in terms of a weakly coupled theory of supergravity. Let's
begin!

The plan for this chapter as of January 1, 2016 will be to showcase important
details of chapter $2$ from Polchinski's Volume 1 leaving out some
technical details for as exercises. In the future it would be nice to
include $d$-dimensional CFT and it's application to condensed matter
systems.

\section{Conformal Normal Order and Operator Product Expansions}

In our QFT adventures we focused on computing correlation functions since
every physical quantity could be expressed in terms of them. However, in
our journey we focused a lot on operators of the form
$\braket{\phi_1\phi_2\cdots\phi_n}$. We shall now generalize this ever so
slightly. 

\begin{definition} Let $\sg_0$ be a fixed point and consider a classical
world-sheet field theory with fields $X_1(\sg),\ldots,X_n(\sg)$. A
\textbf{local functional} is a function
$\ms F[X]$ taking in, as arguments, $X_i(\sg_0)$ and $\di_a
X_i(\sg_0)$ which are taken at $\sg_0$. A \textbf{local operator} is the
quantized version of a local functional that has well defined expectation
values. Often a local operator is given by the normal ordering of a local
functional.
\end{definition}
Here are some examples of local operators $X^\mu(0,0),
X^\mu(a,b)X_\mu(a,b), \di_{\bar z}X^3(z_1,\bar z_1)$. However,
$X^\mu(z_1,\bar z_1)+X^\mu(z_2,\bar z_2)$ is not a local operator.  Before
introducing the operator product expansion we need to introduce conformal
normal ordering which will be used in the definition of OPE.

\begin{definition}
  Write $z_{12} = z_1 - z_2$. Let $\ms F$ be an arbitrary function of
  $X$. Define the (free-field) {\bf normal order} of $\ms F$ to be the
  functional:
  \begin{align}
  \label{normalorderdefinition}
  \NO{\ms F} &= \ms F + \sum \;(\text{subtractions})\\
  &= \exp \left( \FR{\alpha'}{2}\int d^2z_1d^2z_2 \ln|z_{12}|^2
  \FR{\delta}{\delta X^\mu(z_1,\bar z_1)}
  \FR{\delta}{\delta X_\mu(z_2,\bar z_2)} \right) \ms F
  \end{align}
\end{definition}
This is very analogous to the normal ordering that we saw in QFT where the
coefficient $\eta^{\mu\nu}\ln|z_{12}|^2$ is replaced by the corresponding
propogator $\Delta(z_1,z_2)$. The QFT version of normal ordering is useful
for calculating matrix elements, while this version is useful for computing
the OPE.

Here are two examples: $\NO{X^\mu(z,\bar z)} = X^\mu(z,\bar z)$,
and
\begin{align}
\label{normalorder-example}
\NO{X^\mu(z_1,\bar z_2) X^\nu(z_2,\bar z_2)} = X^\mu(z_1,\bar
z_2) X^\nu(z_2,\bar z_2) + \FR{\alpha'}{2}\eta^{\mu\nu}\ln|z_{12}|^2.
\end{align}
The reason why this ordering is useful is because of the following:
\begin{conjecture}[Fundamental Property of Normal Ordering]
\label{fundamentalpropnormalorder}
Normal ordered expressions satisfy the classical
equations of motion averaged over paths. In the case of classical bosonic
field this amounts to saying:
\[ \braket{ \di\bar\di \NO{\ms F} } = 0.\]
\end{conjecture}
This is true for instance in the case of $\braket{\di\bar\di \NO{
X^\mu(z_1,\bar z_1) X^\nu(z_2,\bar z_2)}} = 0$ (Polchinski Vol 1 Page 36).
\begin{proposition} 
\label{prop-product-normal-order}
Let $\ms F,\ms G$ be two local operators. Then,
\begin{align}
 \NO{\ms F}\NO{\ms G} &=
\NO{\ms F\ms G} + \sum \;(\text{cross-contractions})\\
&= \exp\left( -\FR{\alpha'}{2}\int d^2z_1 d^2z_2 \ln|z_{12}|^2
\FR{\delta}{\delta^\mu_F(z_1,\bar z_1)}
\FR{\delta}{\delta_{\mu G(z_2,\bar z_2)}}
\right) \NO{\ms FG}
\end{align}
\end{proposition}

\begin{remark} The operator product expansion, as given by
\eqref{OPEdefinition}, is our definition of the OPE. However, it turns out,
just like in complex analysis, that the singular part of this expansion is
the one that plays the most crucial role. What does the singular part of
the OPE do for us? It turns out that it gives us a way to compute the
variation of local operators under conformal transformations. Here's how.
Using the Ward identity in $d=2$ we relate $\delta\ms A(z_0,\bar z_0)$ with
the residue of $j(z)\ms A(z_0,\bar z_0)$ at $z_0$. Rewrite $j$ in terms of
the energy-momentum tensor and use the singular part of the OPE of $T\ms A$
to calculate the residue.

Now we describe how to compute the singular part of the OPE in free field
theory. In particular, this means that the following derivation only works
for the bosonic non-interacting string. We will revise our method
later, if need be. The key observation is that harmonic functions can
locally be written as a sum of a holomorphic and antiholomorphic part.
\end{remark}
\begin{lemma} Let $f : \bC \to \bC$ be harmonic. Then $\di\bar\di f = 0$
and so $f = a(z) + b(\bar z)$ where $a$ is holomorphic and $b$ is
antiholomorphic.
\end{lemma}
% \begin{proof} (Sketch) Using $\bar\di(\di f) = 0$, we write $\di f =
% \sum_{n\ge0} a_nz^n$ and similarly, $\bar\di f = \sum_{n\ge0} b_nz^n$.
% Then, show that $f(w) = \sum_{n\ge0} \int_0^w a_nz^n+\int_0^w b_nz^n$.
% \end{proof}

Using Prop.~\ref{prop-product-normal-order} we notice that, since
$\NO{\ms F\ms g}$ is non-singular, the singular
part in the OPE of $\NO{\ms F}\NO{\ms G}$ is given by the coefficient
functions in the cross-contractions.

% Let $\ms A(\sg_1), \ms B(\sg_2)$ be two local operators, with
% $\sg_1=(z_1,\bar z_1), \sg_2=(z_2,\bar z_2)$ and 
% \mbox{$\|\sg_1-\sg_2\| \ll 1$.} Using \ref{prop-product-normal-order}, we can
% rearrange the product as a sum of normal ordering operators with meromorphic
% or anti-meromorphic (terms of the form $(\bar z - \bar z_0)^{-1}$)
% coefficients. Since 
% \begin{align}
%     \ms A\ms B &= \NO{\ms A\ms B} + \sum \;(\text{contractions})\\
%     &= \exp \left(-\FR{\alpha'}{2}\int d^2z_1d^2z_2 \ln|z_{12}|^2
%     \FR{\delta}{\delta X^\mu(z_1,\bar z_1)}
%     \FR{\delta}{\delta X_\mu(z_2,\bar z_2)} \right) (\ms A\ms B)
% \end{align}
% By \eqref{fundamentalpropnormalorder}, $\NO{\ms A\ms B}$ is
% non-singular, and so the sum of contractions contribute to the
% (anti)meromorphic expansion. These (anti)meromorphic parts of the
% decomposition are called the \textbf{singular terms of the OPE centred
% around $z_2$} of $\ms A\ms B$. Just like in complex analysis, the singular
% terms contain a lot of information about the behaviour of the function, so
% do the singular terms of the OPE. %insert proposition number

\begin{example} Using the definition of normal ordering
\eqref{normalorderdefinition}, we may write (cf.
\eqref{normalorder-example})
\begin{align*}
    X^\mu(z_1,\bar z_1)X^\nu(z_2,\bar z_2) &=
    -\FR{\alpha'}{2}\eta^{\mu\nu}\ln|z_{12}|^2 +\sum_{k=1}^\infty \FR{1}{k!} 
    (z_{12})^k \NO{X^\nu\di^k X^\mu(z_2,\bar z_2)}
    +(\bar z_{12})^k \NO{X^\nu\bar\di^k X^\mu(z_2,\bar z_2)}\\
    &\sim -\FR{\alpha'}{2}\eta^{\mu\nu}\ln|z_{12}|^2 
\end{align*}
The first equation is the full operator product expansion and the
equivalence (up to singular terms) shows that $X^\mu X^\nu$ behaves like
$\ln|z_{12}|^2$ for $z_1\to z_2$.
\end{example}
\begin{example} Let's suppose we have a product of two composite operators.
$\ms F(z) = \di X^\mu(z)\di X_\mu(z)$ and $\ms G(z') = \di'
X^\nu(z')\di'X_\nu(z')$.  Using the harmonicity of normal ordering we
obtain:
\begin{align*}
\NO{\ms F(z)}\NO{\ms G} &= \NO{\ms F(z)\ms G(z')} - 4 \FR{\alpha'}{2}
(\di\di' \ln|z-z'|^2) \NO{\di X^\mu \di' X_\mu(z')}
+2\eta^\mu_\mu \left( -\FR{\alpha'}{2}\di\di'\ln|z-z'|^2 \right)^2\\
&\sim \FR{D\alpha'^2}{2(z-z')^4}-\FR{2\alpha'}{(z-z')^2}\NO{\di X^\mu \di'
X_\mu(z')} - \FR{2\alpha'}{z-z'} \NO{\di X^\mu \di' X_\mu(z')}
\end{align*}
\end{example}

In general CFTs we require the basis in which we expand operator products
to transform like a tensor under conformal transformations. Moreover, the
conformal invariance then puts even more restrictions on the coefficient
functions rendering them unique up to a constant.  

\subsection{Ward Identity}
Although the idea of the OPE is what drives this chapter, the Ward identity
is the oil that makes the engine turn. Suppose we are given a coordinate
transformation $\sg' = \sg+\delta\sg$, that is a symmetry of the theory,
how do operators transform under this transformation? Denote the
transformation of fields as follows: $X'_\mu(\sg) = X_\mu(\sg) + \delta
X_\mu(\sg)$. Now we consider a slightly more general transformation: 
\[ X'_\mu(\sg) = X_\mu(\sg)+\rho(\sg)\delta X_\mu(\sg).\] 
Such a general transformation might not be a symmetry of the action.
However, the path integral \emph{is} invariant under change of coordinates,
which means:
\begin{align*}
0 &= \delta\left( \int \mc DX\, e^{-S[X]}\ms A(\sg_0) \right)
=\int\mc DX\delta (e^{-S[X]})\ms A(\sg_0)+e^{-S[X]}\delta\ms A(\sg_0)\\
&=\int\mc DX\,(d^d\sg\sqrt{g}) e^{-S[X]} j^a(\sg)\di_a\rho(\sg)\ms
A(\sg_0)+e^{-S[X]}\delta\ms A(\sg_0)
\end{align*}
Applying Stoke's theorem:
\begin{align*}
\braket{\delta \ms A(\sg_0)} &= \FR{i\epsilon}{2\pi} \int d^d\sg
\sqrt{g} \braket{\di_aj^a(\sg)}\\
&= \FR{i\epsilon}{2\pi} \braket{ \oint_{\di R} dA\,n^aj_a(\sg)\ms A(\sg_0)}
\end{align*}
In operator form and in $d=2$ this looks like
\[\FR{2\pi}{\epsilon}\delta \ms A(\sg_0)
=\oint_{\di R} (j_zdz - j_{\bar z}d\bar z) \ms A(z_0,\bar z_0)\]
In the case that $j_z$ and $j_{\bar z}$ are (anti)holomorphic then we have
the following relation:
\[\Res_{z\to z_0} j(z)\ms A(z_0,\bar z_0) + \overline{\Res}_{\bar z\to\bar
z_0} \tilde j(\bar z)\ms A(z_0,\bar z_0) = \FR{1}{i\epsilon}\delta\ms
A(z_0,\bar z_0).\]




\subsection{Applications of OPE}
Let us show that the $X^\mu$-theory is conformally invariant. This amounts
to showing if $z'=f(z)$, for some holomorphic $f$, then $X'^\mu(z',\bar z')
= X(z,\bar z)$. For our purposes it will be easier to check this
infinitesimally. consider 
\begin{align} z' = z+\epsilon v(z)
\label{worldsheet-translation}
\end{align}
for holomorphic $v$ (and similarly for the $\bar z'$).
We want to show that such a transformation gives rise to the following variation:
\[X'^\mu(z',\bar z')=X^\mu(z,\bar z)-\epsilon v^a(z)\di_a X^\mu(z,\bar
z) - \epsilon v^a(z)^* \bar\di X^\mu\]
because this is the infinitesimal version of $X'^\mu(z',\bar z')
= X(z,\bar z)$. The idea will be to use the Ward identity,
\[ \Res_{z \to z_0} j(z) \ms A(z_0,\bar z_0) + c.c. =
\FR{1}{i\epsilon}\delta \ms A(z_0,\bar z_0),\] to compute the variation of
$\ms A$. Therefore, we must first compute the current $j^a(z)$
corresponding to $v^a(z)$, then compute the OPE $j(z)\ms A(z_0,\bar z_0)$
to understand the asymptotics around $(z_0,\bar z_0)$, and finally compute
the residue to obtain the symmetry that we are interested in.

\begin{exercise} Show that the Noether current, corresponding to the
symmetry \eqref{worldsheet-translation}, is given by $j_a = iv^b T_{ab}$
where $T_{ab}$ is the normal ordered version of the stress-energy
tensor \[T_{ab} = -\FR{1}{\alpha'} \NO{ \left( \di_a X^\mu\di_b
X_\mu - \FR{1}{2}\delta_{ab}\di_c X^\mu\di^c X_\mu \right)}.\]
Moreover, show that $T_a^a = 0$, that is the tensor is traceless. Rewriting
this in complex coordinates, show this is equivalent to $T_{z\bar z} = 0$.
Also, using $\di^aT_{ab} = 0 = T^a_a$, we have $\bar\di T_{zz} = \di
T_{\bar z\bar z} = 0$, showing that $T = T_{zz}, \tilde T = T_{\bar z\bar
z}$ are holomorphic and anti-holomorphic. Next, show that the OPEs of $T\ms
A$ and $\tilde T\ms A$ have the following asymptotics:
\[ T(z) X^\mu(0) \sim \FR{1}{z} \di_zX^\mu(0), \qquad\qquad 
\tilde T(\bar z)X^\mu(0) \sim \FR{1}{\bar z}\bar\di X^\mu(0).\]
\end{exercise}
\subsection{Primary Fields}
In a CFT, we would like to use a particular basis for the OPE
\eqref{OPEdefinition}. This is a set of local operators which transform
under conformal transformations similar to a tensor:
\begin{align}
    \ms O'(z',\bar z') = (\di z')^{-h}(\bar\di \bar z')^{-\tilde h} \ms
    O(z,\bar z).
    \label{primaryfielddefinition}
\end{align}
We call such a local operator a \textbf{primary field} or \textbf{conformal
tensor} of weight $(h,\tilde h)$. These quasi-primary fields, by
definition, play nice with conformal transformations, thus we may expect
that the OPE of $T\ms O$ will be particularly nice. In fact, this does turn
out to be the case:
\begin{align}
T(z)\ms O(0,0) = \FR{h}{z^2}\ms O(0,0) + \FR{1}{z}\di\ms O(0,0)+\cdots
\end{align}

\begin{example} The operator $\NO{(\prod_i\di^{m_i}X^{\mu_i})
(\prod_j\di^{n_j}X^{\nu_j})e^{ik\cdot X}}$ has weight $\left(
\FR{\alpha'k^2}{4} + \sum_i m_i, \FR{\alpha'k^2}{4} + \sum_j n_j \right)$.
\end{example}

\begin{proposition}[Refined OPE] Using rigid translations, scaling and
rotations to both sides of an OPE we can write, for any two primary
operators $\ms A_i, \ms A_j$:
\begin{align}
    \ms A_i(z_1,\bar z_1)\ms A_j(z_2,\bar z_2) = \sum_k
    z_{12}^{h_k-h_i-h_j}\bar z_{12}^{\tilde h_k-\tilde h_i-\tilde h_j}
    \ms A_k(z_2,\bar z_2)
    \label{refinedOPE}
\end{align}
\end{proposition}
\begin{theorem}[Conformal Bootstrap] 
    We may express the OPEs (ie. the correlation functions) for a product
    of any two or more fields, using only the quasi-primary fields. (Cf.
    Chapter 15 -- Vol 2 Polchinski)
\end{theorem}

\begin{example}{$bc$ CFT}
There are many different free conformal field theories. We have, in fact,
already met with two in the first chapter. The first is the $X^\mu$ theory,
which we have gotten to know quite well. The second comes from 
\S~\!\ref{chapterone-fpghosts}: Faddeev-Popov ghosts $b_{ab},c^a$ with
action \begin{align} S_G = \FR{1}{2\pi} \int d^2\sg b_{ab}\di^a c^b
\end{align} is a free CFT where $b,c$ are primary fields (conformal
tensors) with weights $(h_b,0) = (\lam,0)$ and $(h_c,0) = (1-\lam,0)$.
For this theory we can compute the OPEs, and all of the other quantities in
a similar manner to what we did above. All of these important facts are
left as exercises with answers in Polchinski pg 50-51.
\end{example}

\subsection{Virasoro Algebra}
Let us now compute the spectrum of a CFT. First, we will be clever and
apply a conformal transformation from $(w=\sg^1+i\sg^2)\mapsto
(z=e^{-iw}=e^{-i\sg^1+\sg^2})$.\footnote{In the previous sections what we
meant by $z$ was actually the $w$ here.} Quantizing with parameter $z$ is
usually referred to as \textbf{radial quantization}. Second, we will do a
Laurent expansion of $T_{zz}(z)$ and $T_{\bar z\bar z}(\bar z)$ to obtain
the Virasoro generators:
\begin{align}
    T(z) = \sum_{m=-\infty}^\infty \FR{L_m}{z^{m+2}}, \qquad
    \tilde T(z) = \sum_{m=-\infty}^\infty \FR{\tilde L_m}{\bar z^{m+2}}, \qquad
    L_m  = \oint_C \FR{dz}{2\pi iz} z^{m+2} T(z)
    \label{Virasorodefinition}
\end{align}
This definition of operators $L_m$ has a number of consequences. First, we
notice that the shape of the contour is irrelevant and we may fix the
contours $C$ to be circles centred at $0$. This contours correspond to
equal-time points of the world-sheet, since $|z| = e^{\sg^2}$. Moreover,
since these operators are invariant under the radius of the circle, it
follows that $L_m$ are invariant under time translation! This means that 
$L_m$ are conserved charges with current $j_m(z) = z^{m+1} T(z)$.

Before we can talk about the Hamiltonian, we again need a technical lemma.
\begin{lemma}[Transformation of the Energy Momentum Tensor] In a general
CFT, under a conformal transformation, $z \to z+\epsilon v(z)$, the energy
momentum tensor transforms as:
\begin{align}
    \delta T(z) = -\FR{c}{12} \di^3 v(z) - 2\di v(z)T(z) - v(z)\di T(z)
    \label{centralchargedefinition}
\end{align}
The quantity $c$ is called the central charge of the CFT.
\end{lemma}

\begin{exercise} 
Show that the Hamiltonian is the conserved quantity given
by (in the $w = \sg^1+i\sg^2$ frame) \[ H = \int_0^{2\pi} \FR{d\sg^1}{2\pi}
T_{22} = L_0 + \tilde L_0 - \FR{c+\tilde c}{24},\] where $T_{ww} = (\di_w
z)^2 T_{zz} + \FR{c}{24}$.  
\end{exercise}

The collection $\{L_m,\tilde L_m\}_{m\in\bZ}$ are the generators for the
Virasoro algebra. To compute their commutators, we use the Ward identity
and a contour trick. 

\begin{lemma} Let $Q_i = \oint \FR{dz}{2\pi i} j_i(z), i=1,2$ be conserved
charges, with current $j_1,j_2$. Then
\begin{align*}
    [Q_1,Q_2]\{C_2\} &= \lim_{C_1,C_3 \to C_2} Q_1\{C_1\}Q_2\{C_2\}
    - Q_1\{C_3\} Q_2\{C_2\}\\
    &= \oint_{C_2} \FR{dz_2}{2\pi i} = \Res_{z_1\to z_2} j_1(z_1)j_2(z_2)
\end{align*}
\end{lemma}
\begin{proof}
For the first equality, imagine slicing the path integral into three chunks.
For the second, draw the standard picture where $C_1,C_3$ are perturbed
around a point $z_2\in C_2$.
\end{proof}
This lemma shows that knowing the singular terms means we understand the
commutators between conserved charges. Now we may apply this lemma to the
Virasoro generators.
\begin{theorem}[Virasoro Algebra Relations]
Let $L_m, m\in\bZ$ be the generators of the Virasoro algebra. Then,
\begin{align}
    [L_m,L_n] = (m-n)L_{m+n} + \FR{c}{12}(m^3-m)\delta_{m,-n}
    \label{Virasorogeneratorrelations}
\end{align}
\end{theorem}
\begin{proof}
Let us calculate the right-hand side of the equation of the lemma.
\[ \Res_{z_1\to z_2} (z_1^{m+1}T(z_1))\,(z_2^{n+1}T(z_2)) =\Res_{z_1\to z_2} z_1^{m+1}z_2^{n+1}\cdot \mathrm{OPE}\{T(z_1)T(z_2)\}. \]
Expanding the OPE, and then doing the contour integral, we obtain the
result.
\end{proof}

\section{Vertex Operators, Scattering Amplitudes, Anomolies}

\chapter{BRST Quantization}

We now have enough background in conformal field theory to continue
our exploration into string theory. However, for completeness, there
are a few loose ends we must tie up first, and a few more tools we
must develop.

The first problem we tackle is that our canonical and path integral
quantizations of the Polyakov action were somewhat unsatisfactory.
\begin{enumerate}
\item We were vague about how canonical quantization imposes the
  quantized Virasoro conditions: how can we tell which states are
  physical using our theory?
\item We did not derive the spectrum or state space using the path
  integral. With the introduction of ghost fields, not every
  configuration that is integrated over is a valid state.
\end{enumerate}
{\bf Becchi-Rouet-Stora-Tyutin (BRST) quantization} cures these
problems simultaneously. It is a much more advanced method for
quantizing a field theory with gauge symmetries and constraints.
Instead of applying it directly to the open bosonic string, we first
develop it in general.

The setting is any $D$-dimensional field theory with action $S$, and
fields $\phi_r$, infinitesimal gauge symmetries $K_\alpha$, and
gauge-fixing conditions $F^A[\phi]$. The infinitesimal gauge
symmetries form a Lie algebra $G$, i.e. $[K_\alpha, K_\beta] =
f_{\alpha\beta}{}^\gamma K_\gamma$ where $f_{\alpha\beta}{}^\gamma$
are the {\bf structure constants} of $G$. Importantly, the
$f_{\alpha\beta}{}^\gamma$ must be independent of the fields $\phi_r$.
This condition does not hold for all gauge theories: when it does not,
we must rely on some even more sophisticated machinery known as the
{\bf Batalin-Vilkovisky formalism}. Fortunately, we do not need to for
the bosonic string.

{\bf Note}: indices become messy in this section. We use $A$ (and not
$B$, which appears as a non-indexing subscript later) to index the
gauge-fixing conditions, i.e. the degrees of gauge freedom, $\alpha,
\beta, \ldots$ to index the gauge symmetries, and $r, s, \ldots$ to
index the fields. This avoids conflict with $a, b, \ldots$, which
index worldsheet coordinates, and $i, j, \ldots$ and $\mu, \nu,
\ldots$, which index space and spacetime coordinates.

{\bf More important note}: throughout this section we use {\bf deWitt
  notation}, where indices on fields not only index field components,
but also spacetime. For example, $\phi_r$ is really $\phi_i(x)$ where
$r$ ranges over all possible values of $i$ and $x$. Consequently, when
contracting two deWitt indices, we must also integrate over the
spacetime variable(s), with the appropriate measure.

\begin{exercise}
  Apply the Faddeev-Popov method to this more general setting to
  obtain the gauge-fixed path integral
  \[ \int \cD \phi_r \, \cD B_A \, \cD b_A \, \cD c^\alpha \, \exp(-S - S_{\text{gf}} - S_{\text{G}}) \]
  Here, as for the bosonic string,
  \begin{itemize}
  \item $S$ is the original gauge-invariant action,
  \item $S_{\text{gf}} \coloneqq -i B_A F^A[\phi]$ is the {\bf gauge
    fixing action}, and
  \item $S_{\text{G}} \coloneqq b_A c^\alpha K_\alpha F^A[\phi]$ is
    the {\bf Faddeev-Popov ghost action}.
  \end{itemize}
  (We did not explicitly see $S_{\text{gf}}$ for the bosonic string
  because we immediately integrated it away: there, $\int \cD B_A \,
  \exp(-S_{\text{gf}}) = \delta[\hat{g}^\zeta - g]$. If we had written
  the $\delta$ functional as a path integral, its variable of
  integration would have been $B_A$.) The auxiliary fields $B_A$ are
  sometimes called {\bf Nakanishi-Lautrup fields}.
\end{exercise}

The resulting action $S + S_{\text{gf}} + S_{\text{G}}$ is not
gauge-invariant anymore, but it has a very important symmetry called
{\bf BRST symmetry}.

\section{BRST Symmetry}

\begin{definition}
  The infinitesimal {\bf BRST transformation} $\delta_B$ is given by
  \begin{align*}
    \delta_B\phi_r &\coloneqq -i\theta c^\alpha K_\alpha\phi_r, \\
    \delta_B B_A &\coloneqq 0, \\
    \delta_B b_A &\coloneqq \theta B_A, \\
    \delta_B c^\alpha &\coloneqq \frac{i\theta}{2} f_{\beta\gamma}{}^\alpha c^\beta c^\gamma.
  \end{align*}
  (This is not the cleanest way of writing the BRST transformation; be
  assured that this definition can actually be very well-motivated, as
  we see soon.)
\end{definition}

\begin{proposition}
  The BRST transformation $\delta_B$ is a symmetry of the action $S +
  S_{\text{gf}} + S_{\text{G}}$, i.e.
  \[ \delta_B(S + S_{\text{gf}} + S_{\text{G}}) = 0. \]
\end{proposition}

\begin{proof}[Proof/Exercise]
  First we establish two small identities, both of which are fairly
  straightforward:
  \[ \delta_B(F^A[\phi]) = -i\theta c^\alpha K_\alpha F^A[\phi], \qquad c^\alpha c^\beta K_\alpha K_\beta = \frac{1}{2} c^\alpha c^\beta f_{\alpha\beta}{}^\gamma K_\gamma. \]
  Using these two identities and that $c^\alpha$ and $c^\beta$
  anti-commute,
  \begin{align*}
    \delta_B(c^\alpha K_\alpha F^A[\phi])
    &= \left(\frac{i}{2}\theta f_{\beta\gamma}{}^\alpha c^\beta c^\gamma\right) K_\alpha F^A[\phi] + c^\alpha K_\alpha (-i\theta c^\beta K_\beta F^A[\phi]) \\
    &= \frac{i}{2}\theta f_{\beta\gamma}{}^\alpha c^\beta c^\gamma K_\alpha F^A[\phi] - \frac{i\theta}{2} c^\alpha c^\beta f_{\alpha\beta}{}^\gamma K_\gamma F^A[\phi] = 0.
  \end{align*}
  Hence when we compute $\delta_B(S_{\text{G}})$, the only
  non-vanishing term comes from $\delta_B b_\lambda$. Similarly, since
  $\delta_B(B_A) = 0$, the only non-vanishing term in
  $\delta_B(S_{\text{gf}})$ comes from $\delta_B(F^A[\phi])$. But then
  again using the first of the two identities,
  \[ \delta_B(S_{\text{gf}} + S_{\text{G}}) = -iB_A \delta_B(F^A[\phi]) + \theta B_A c^\alpha K_\alpha F^A[\phi] = 0. \]
  Finally, $\delta_B(S) = 0$ since $S$ is the original gauge-invariant
  action and is only a function of $\phi_r$, but the transformation
  $\delta_B \phi_r$ is no more than an infinitesimal gauge
  transformation.
\end{proof}

Note that $\delta_B$ mixes commuting (e.g. $\phi_r$ and $B_A$) and
anti-commuting (e.g. $b_A$ and $c^\alpha$) objects. For example, $b_A$
is supposed to anti-commute, but $\delta_B b_A = \theta B_A$, and
$B_A$ commutes. Hence $\theta$ must be anti-commuting, i.e. a
Grassmann variable. Because of this mixing, physicists say that the
BRST symmetry is a {\bf supersymmetry}. The field $c^\alpha$ has ghost
number $+1$, the field $b_A$ and parameter $\theta$ have ghost number
$-1$, and all other fields have ghost number $0$.

\begin{exercise}
  Let $\delta$ be an infinitesimal symmetry of the fields $\phi_r$.
  Review/show that by Noether's theorem, associated to the symmetry
  $\delta$ is a conserved charge
  \[ Q \coloneqq \int d^{D-1}\vec{x} \, \left(\pder{\cL}{(\di_\mu \phi_r)} \delta \phi_r - \delta \cL\right) = \int d^{D-1}\vec{x} \, \left(\Pi^r \delta \phi_r - \delta \cL\right). \]
  Suppose that $\delta \cL = 0$. When quantized, $Q = \NO{\int
    d^{D-1}\vec{x}\, \Pi^r \delta \phi_r}$ is a {\bf generator} of the
  symmetry $\delta$: show that
  \[ \delta \phi_r = [Q, \phi_r], \]
  and more generally, $\delta G = [Q, G]$ for any function $G$
  depending only on the fields $\phi_r$ and not $x$. Finally, argue
  that $\delta \theta_r = \{Q, \theta_r\}$ for fermionic, i.e.
  Grassmann-valued, fields $\theta_r$. Let
  \[ [\cdot, \cdot]_- \coloneqq [\cdot, \cdot], \quad [\cdot, \cdot]_+ \coloneqq \{\cdot, \cdot\}, \]
  so that for a general field $G$, we can write $\delta G = [Q,
    G]_{\pm}$.
\end{exercise}

Hence there is a conserved charge $Q_B$ associated to the BRST
symmetry $\delta_B$. There are two important properties of $Q_B$. To
establish both of them, we first need to calculate that
\[ \delta_B(b_A F^A) = (\theta B_A) F^A - b_A (i\theta c^\alpha K_\alpha F^A) = i\theta (S_{\text{gf}} + S_{\text{G}}). \]

\begin{proposition}
  Physical states satisfy $Q_B\ket{\mathrm{phys}} = 0$.
\end{proposition}

\begin{proof}[Proof/Exercise]
  Let $\delta$ be an infinitesimal transformation of the gauge-fixing
  functionals $F^A$, i.e. $F^A \mapsto F^A + \delta F^A$. Physical
  amplitudes $\braket{f|i}$ should be independent of our choice of
  gauge, so we require
  \[ 0 = \delta \braket{f|i} = i\theta \bra{f}\delta_B(b_A \delta F^A)\ket{i} = -\bra{f}\left\{Q_B, b_A \delta F^A\right\}\ket{i}. \]
  (The second equality follows from writing $\braket{f|i}$ as a path
  integral.) For this equality to hold for all variations $\delta
  F^A$, we must have $Q_B^\dag\ket{f} = Q_B\ket{i} = 0$. (It must be
  that $Q_B^\dag = Q_B$, otherwise there would be another symmetry
  associated with $Q_B^\dag$.) Since $\ket{f}$ and $\ket{i}$ are
  arbitrary physical states, we are done.
\end{proof}

\begin{proposition}
  $Q_B$ is nilpotent, i.e. $Q_B^2 = 0$.
\end{proposition}

\begin{proof}[Proof/Exercise]
  A few calculations show that $\delta_B^2 = 0$. A few more
  calculations show that $[Q_B, [Q_B, G]_{\pm}]_{\mp} = [Q_B^2, G]$
  for any formal variable $G$. Hence for any function $G$ of the
  fields,
  \[ 0 = \delta_B \delta_B G = i\theta' [Q_B, i\theta [Q_B, G]_{\pm}]_{\pm} = \theta' \theta [Q_B, [Q_B, G]_{\pm}]_{\mp} = \theta' \theta [Q_B^2, G]. \]
  Since $G$ is arbitrary, $Q_B^2$ must be a scalar multiple of the
  identity. But $Q_B$ increases ghost number by $1$, as one can verify
  from the definition of $\delta_B$, and the identity operator does
  not do this. Hence $Q_B^2 = 0$.
\end{proof}

These two properties allow us to directly construct the {\bf physical
  (BRST) state space} $\cH_{\text{BRST}}$. First, note that states of
the form $Q_B\ket{\chi}$, called {\bf null states}, are automatically
physical states, since $Q_B^2 = 0$. But they are orthogonal to all
physical states, since $\bra{\psi}(Q_B\ket{\chi}) =
(\bra{\psi}Q_B)\ket{\chi} = 0$. So their presence is never measurable:
two physical states differing by a null state are physically
equivalent. Hence
\[ \cH_{\text{BRST}} \coloneqq \frac{\{\ket{\psi} : Q_B\ket{\psi} = 0\}}{\{\ket{\psi} : \ket{\psi} = Q_B\ket{\chi}\}}, \]
i.e. the {\bf cohomology} of the operator $Q_B$.

\section{Mathematical Formalism}

{\bf Note}: this subsection is {\bf very optional}: it can be
completely skipped. But if you are curious about the mathematical
underpinnings of BRST, and what we actually calculated in the previous
section, read on! This subsection contains an overview of BRST
quantization as Lie algebra cohomology, in the context of symplectic
reduction.

What is BRST quantization really doing? Let's first restate the
underlying problem of quantizing a constrained system: we have a phase
space $M$ and a Hamiltonian action of a Lie group $G$ on $M$.

{\color{blue} \bf TODO}:
\begin{enumerate}
\item Coisotropic reduction of $M = \{\phi_r, B_A, b_A, c^\alpha\}$ to
  give $M//G$;
\item Koszul complex $\Lambda^\bullet \fg \otimes C^\infty(M)$ and
  identification of differential with $Q_B$;
\item Chevalley-Eilenberg resolution $K^{\bullet,\bullet}$ of the
  Koszul complex;
\item Identification of Chevalley-Eilenberg cohomology with state
  space of $M//G$ (spectral sequence for $K^{\bullet,\bullet}$
  degenerates at second page).
\end{enumerate}

\section{BRST Quantization of the Bosonic String}

We can now apply the general machinery of BRST quantization and our
knowledge of CFT to the open bosonic string. (We need CFT to apply
Noether's theorem, to get the BRST charge $Q_B$.) This involves quite
a lot of calculation that can be safely skipped. We record them here
in grisly detail for reference.

\subsection{BRST Symmetry and Critical Dimension}

First, in order to apply CFT, we need to rewrite the action in complex
coordinates $(z, \bz)$. Pick {\bf unit gauge}, i.e. $g_{ab} =
\delta_{ab}$, so that $\nabla = \di$, and
\[ S_{\text{X}} = T_0 \int_M d^2z \, \di X \cdot \bar{\di} X, \quad S_{\text{G}} = \frac{1}{2\pi} \int_m d^2z \, \left(b_{zz} \di_{\bz} c^z + b_{\bz\bz} \di_z c^{\bz}\right). \]
{\bf Notation}: we write $S_{\text{X}}$ instead of $S_{\text{P}}$ for
the Polyakov action from now on. Similarly, $T_{\text{X}}$ is the
holomorphic part of the energy-momentum tensor for $S_{\text{X}}$, and
$T_{\text{G}}$ for $S_{\text{G}}$. In general, X as a subscript refers
to quantities involving the {\bf matter fields} $X^\mu$, and G as a
subscript refers to quantities involving the {\bf ghost fields}
$b_{ab}$ and $c^a$. Remember that tildes indicate the anti-holomorphic
part.

The equations of motion for the ghosts give $\di_{\bz} b_{zz} = \di_z
b_{\bz\bz} = 0$ and $\di_{\bz} c^z = \di_z c^{\bz} = 0$, so define
\[ b(z) \coloneqq b_{zz}(z, \bz), \quad \tilde{b}(\bz) \coloneqq b_{\bz\bz}(z, \bz), \quad c(z) \coloneqq c^z(z, \bz), \quad \tilde{c}(\bz) \coloneqq c^{\bz}(z, \bz). \]
Using this new notation, the ghost action is $S_{\text{G}} =
(1/2\pi)\int d^2z \, (b\bdi c + \tilde{b} \di \tilde{c})$. It is
straightforward now to write down the BRST symmetry, since we only
need to consider diffeomorphisms and not Weyl transformations: nothing
depends on the metric anymore.

\begin{proposition}
  The BRST symmetry for the bosonic string is
  \begin{alignat*}{2}
    \delta_B X^\mu &= i\theta (c\di X^\mu + \tilde{c}\bdi X^\mu), \\
    \delta_B b &= i\theta (T_{\text{X}} + T_{\text{G}}), &&\delta_B \tilde{b} = i\theta (\tilde{T}_{\text{X}} + \tilde{T}_{\text{G}}), \\
    \delta_B c &= i\theta c \di c, &&\delta_B \tilde{c} = i\theta \tilde{c} \bdi \tilde{c},
  \end{alignat*}
  where $T_{\text{X}} = -(2\pi T_0)(\di X)^2$ and $T_{\text{G}} = -2 \NO{b \di c} + \NO{c \di b}$.
\end{proposition}

\begin{proof}
  The gauge transformations here are diffeomorphisms and Weyl
  transformations, but Weyl transformations leave $X^\mu$ invariant,
  so the expression for $\delta_B X^\mu$ comes directly from the
  definition.

  To calculate $\delta_B b = \theta B$, we need to find the equation
  of motion for $B$, which we integrated out, so that we can rewrite
  it in terms of the other fields. Well it is easy to find the
  equation of motion: simply write down the total non-gauge-fixed
  action and vary it with respect to the metric to get
  \[ S = S_{\text{X}} - iB^{ab}(\delta_{ab} - g_{ab}) + S_{\text{G}} \implies \delta_g S = \frac{\sqrt{g}}{4\pi} \, \delta g_{ab}(T_{\text{X}} - iB^{ab} + T_{\text{G}}) \implies B^{ab} = -i(T_{\text{X}} + T_{\text{G}}). \]

  Finally, to calculate $\delta_B c^a = (i\theta/2) f_{bc}{}^a c^b
  c^c$, we need the structure constants $f_{bc}{}^a$. Since
  $[K_\alpha, K_\beta] X^\mu = 0$ when either of $K_\alpha$ or
  $K_\beta$ is a Weyl transformation, again we only need to consider
  diffeomorphisms. Since infinitesimal diffeomorphisms have as a basis
  $\delta_w X^\mu(z) = \delta(z - w) \di_z X^\mu(z)$, we can compute
  \[ f_{bc}{}^a = -\delta_c^a \delta(z_1 - z_2) \di_b \delta(z_1 - z_3) + \delta_b^a \delta(z_1 - z_3) \di_a \delta(z_1 - z_2), \]
  where $z_1, z_2, z_3$ are the coordinates corresponding to $a, b, c$
  respectively. Plugging this into the definition of $\delta_B c^a$
  and rewriting in complex coordinates gives the desired result.
\end{proof}

Note that we disregard the Nakanishi-Lautrup fields $B_A$ in the BRST
construction here, because we could and did integrate them away when
we gauge-fixed the action.

\begin{proposition}
  The holomorphic part $j_B(z)$ of the conserved BRST current is
  \[ j_B(z) \coloneqq c T_{\text{X}} + \frac{1}{2} \NO{c T_{\text{G}}} + \frac{3}{2} \di^2 c = c T_{\text{X}} + \NO{bc\di c} + \frac{3}{2} \di^2 c, \]
  where the $\di^2 c$ term is added manually to make $j_B(z)$ a
  tensor.
\end{proposition}

\begin{proof}
  Let $\cJ^x$ denote the variation in the action, in standard
  coordinates, i.e.
  \[ \frac{\theta}{2} \int d^2z \, \di_x \cJ^x \coloneqq \delta_B(S_{\text{X}} + S_{\text{G}}) = iT_0\theta \int d^2z \, \di_x(c^x \di X \cdot \bdi X). \]
  Hence, by the standard Noether procedure, the conserved current is
  \[ (j_B)^x(z,\bar{z}) = \; \NO{\fder{(\cL_{\text{X}} + \cL_{\text{G}})}{(\di_x \Phi_i(z,\bar{z}))} \delta_B \Phi_i(z,\bar{z}) - \cJ^x} \]
  where $\Phi_i$ ranges over all dynamical fields, i.e. $X, b, c$.
  Switching to complex coordinates,
  \begin{align*}
    j_B(z) &= 2\pi i \left(\frac{1}{2} (j_B)^{\bar{z}}\right) = \pi i \NO{\left(\frac{T_0}{2} \di X \cdot \delta_B X - \frac{1}{\pi} b \delta_B c - \frac{iT_0}{2} \tilde{c} \di X \cdot \bdi X\right)} \\
    &= -2\pi T_0 \NO{c \di X \cdot \di X} + \NO{bc \di c} = \NO{c T_{\text{X}}} + \NO{bc \di c}. \qedhere
  \end{align*}
\end{proof}

The analogous formula clearly holds for $\tilde{j}_B$. Now recall that
the BRST charge, by definition, is the conserved charge associated
with this conserved current: $Q_B = (1/2\pi i) \int (dz \, j_B -
d\bar{z} \, \tilde{j}_B)$.

\begin{proposition}
  $Q_B^2 = 0$ if and only if $D = 26$.
\end{proposition}

\begin{proof}
  We directly compute the OPE, ignoring the total derivative term:
  \begin{align*}
    2Q_B^2 = \{Q_B, Q_B\}
    &= \int dz \, dw \NO{c(z) \left(T_{\text{X}}(z) + \frac{1}{2} T_{\text{G}}(z)\right)} \NO{c(w) \left(T_{\text{X}}(w) + \frac{1}{2} T_{\text{G}}(w)\right)} \\
    &= -\frac{1}{12} \int dw \, \di_w^3c(w) c(w) (D - 26),
  \end{align*}
  which vanishes if and only if $D = 26$.
\end{proof}

This calculation is the rigorous derivation of the {\bf critical
  dimension}. The failure of $Q_B^2$ to be zero automatically for any
$D$ is known as the {\bf Weyl anomaly}.

\subsection{Physical State Space}

We can now find the {\bf physical state space} by calculating the BRST
cohomology of $Q_B$ acting on the entire state space. First, we need
to write down the state space. This is entirely analogous to when we
canonically quantized naively, using the mode expansion coefficients
$\alpha_m^i$ as {\bf raising/lowering operators}. But now we are not
in lightcone gauge anymore, and we have two additional ghost fields.
Hence we now have three sets $\{\alpha_m^\mu\}$, $\{b_m\}$, $\{c_m\}$
of raising/lowering operators, arising from the mode expansions
\[ \di X^\mu(z) = -i\sqrt{\frac{1}{2T_0}} \sum_{m=-\infty}^\infty \frac{\alpha_m^\mu}{z^{m+1}}, \quad b = \sum_{m=-\infty}^\infty \frac{b_m}{z^{m+2}}, \quad c = \sum_{m=-\infty}^\infty \frac{c_m}{z^{m-1}}. \]
We also define, as usual, the {\bf number operators} for each set of
operators, and the total number operator:
\[ N_m^\mu \coloneqq \alpha^\mu_{-n} \cdot \alpha^\mu_n, \quad N_m^b \coloneqq nb_{-n} c_n, \quad N_m^c \coloneqq nc_{-n} b_n, \quad N \coloneqq \sum_{m=1}^\infty \left(\sum_{\mu=0}^{25} N_m^\mu + N_m^b + N_m^c\right). \]
The associated eigenvalue of $N$ is called the {\bf level} of the
string. The most general level-$N$ open bosonic string is, as
expected,
\[ \ket{N; k} = \sum_{N_n^{\mu}, N_n^b, N_n^c} C_{N_n^{\mu}, N_n^b, N_n^c} \left(\prod_{\mu=0}^{25} \prod_{n=1}^\infty \frac{(\alpha^\mu_{-n})^{N_n^\mu}}{\sqrt{n^{N_n^\mu} N_n^\mu!}}\right) \left(\prod_{n=1}^\infty (b_{-n})^{N_n^b}\right) \left(\prod_{n=0}^\infty (c_{-n})^{N_n^c}\right) \ket{0; k}, \]
where the sum is of course over the quantum numbers $\{N_n^{\mu},
N_n^b, N_n^c\}$ giving a level-$N$ string, and $C_{N_n^{\mu}, N_n^b,
  N_n^c}$ are normalization constants. {\bf Note}: $c_0$ is a creation
operator while $b_0$ is not. (Why? Read on.)

But what is the vacuum state $\ket{0; k}$? From canonical
quantization, we have a definition of the vacuum state $\ket{0;
  k}_{\text{X}}$ for the matter fields, but not for the ghost fields.
Well, vacuum states should always be annihilated by lowering
operators, so now we define the {\bf ghost vacuum state} $\ket{0;
  k}_{\text{G}}$ such that
\[ b_0\ket{0; k}_{\text{G}} = 0, \quad b_n\ket{0; k}_{\text{G}} = c_n\ket{0; k}_{\text{G}} = 0 \quad \forall n > 0. \]

{\color{blue} \bf TODO}:
\begin{enumerate}
\item Explain why the Virasoro conditions are imposed automagically by
  $Q_B\ket{\text{phys}} = 0$.
\item Point out the $\bZ/2\bZ \times \bR$ grading on the state space.
\item Explain the mass shell condition $L_0\ket{\text{phys}} = \{Q_B,
  b_0\}\ket{\text{phys}} = 0$ and associated issues: why is $c_0$ a
  creation operator? Why is the ghost vacuum state doubly degenerate?
\item Explain the no-ghost theorem.
\end{enumerate}


\chapter{Amplitudes}

\section{S-Matrix}

\section{Tree-Level Amplitudes}

\end{document}
